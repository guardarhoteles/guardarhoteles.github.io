(self.webpackChunkshopping_pwa=self.webpackChunkshopping_pwa||[]).push([[85],{65297:function(e,t,n){n.d(t,{OD:function(){return ve},Yx:function(){return Ht}});var l=n(67294),i=n(64316),a=n(81194),r=n(91642),o=n(98250),c=n(56095),u=n(70094),d=n(13413),s=n(46605),m=n(61566),v=n(18242),E=n(93351),f=n(30300),p=n(66252),g=n(25570),y=n(8470),b=n(85213),k=n(29097),h=n(10333),L=n(47505),x=n(49349),A=n(61124),_=n(53274),I=n(73030),T=n(10174),C=n(30082),S=n(20515),N=n(5419),w=n(95128),R=n(36171),O=n(84139),F=n(8315),P=n(18397),U=n(68369),D=n(50319),M=n(52818),z=n(14889),B=n(27764),V=n(58153),Y=n(22809),G=n(85395),j=n(17684),q=n(32877),H=n(89640),W=n(41419),K=n(16480);n(61331);function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}function $(e){if(Array.isArray(e))return e}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},l=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),l.forEach((function(t){Z(e,t,n[t])}))}return e}function ee(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function te(e,t){if(null==e)return{};var n,l,i=function(e,t){if(null==e)return{};var n,l,i={},a=Object.keys(e);for(l=0;l<a.length;l++)n=a[l],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(l=0;l<a.length;l++)n=a[l],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ne(e,t){return $(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var l,i,a=[],r=!0,o=!1;try{for(n=n.call(e);!(r=(l=n.next()).done)&&(a.push(l.value),!t||a.length!==t);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==n.return||n.return()}finally{if(o)throw i}}return a}}(e,t)||ae(e,t)||X()}function le(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function ie(e){return $(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ae(e)||X()}function ae(e,t){if(e){if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(e,t):void 0}}function re(){var e=le(["\n  fragment NotificationActionFragment on NotificationAction {\n    __typename\n    ... on NotificationAnalytics {\n      description\n      referrerId\n      schema {\n        __typename\n        name\n        messageContent {\n          __typename\n          name\n          value\n        }\n      }\n    }\n    ... on NotificationAnalyticsEgClickstream {\n      __typename\n      description\n      event {\n        __typename\n        eventName\n        eventType\n        eventCategory\n        eventVersion\n        actionLocation\n      }\n      schema {\n        name\n        messageContent {\n          name\n          value\n        }\n      }\n    }\n    ... on NotificationCookie {\n      name\n      value\n      expires\n    }\n  }\n"]);return re=function(){return e},e}function oe(){var e=le(["\n  mutation SendTextToDownloadAppMutation($context: ContextInput!, $placementId: String!, $customerInput: NotificationUserInput!) {\n    sendTextToDownloadApp(context: $context, placementId: $placementId, customerInput: $customerInput) {\n      messageType\n      messageBody\n      invalidFields\n    }\n  }\n"]);return oe=function(){return e},e}function ce(){var e=le(["\n  fragment TitleParts on NotificationPhrase {\n    accessibilityLabel\n    completeText\n    egdsItems {\n      ... on NotificationEGDSTextNode {\n        text\n        theme\n        weight\n      }\n      ... on NotificationEGDSLinkNode {\n        action {\n          accessibility\n          analytics {\n            linkName\n            referrerId\n          }\n          resource {\n            value\n          }\n          target\n        }\n      }\n    }\n  }\n\n  fragment NotificationActionFragment on NotificationAction {\n    __typename\n    ... on NotificationAnalytics {\n      description\n      referrerId\n      schema {\n        __typename\n        name\n        messageContent {\n          __typename\n          name\n          value\n        }\n      }\n    }\n    ... on NotificationAnalyticsEgClickstream {\n      __typename\n      description\n      event {\n        __typename\n        eventName\n        eventType\n        eventCategory\n        eventVersion\n        actionLocation\n      }\n      schema {\n        name\n        messageContent {\n          name\n          value\n        }\n      }\n    }\n    ... on NotificationCookie {\n      name\n      value\n      expires\n    }\n  }\n\n  query NotificationsQuery(\n    $context: ContextInput!\n    $notificationLocation: NotificationLocationOnPage!\n    $lineOfBusiness: LineOfBusinessDomain!\n    $pageLocation: PageLocation!\n    $optionalPageId: String\n    $optionalContext: NotificationOptionalContextInput\n  ) {\n    notification(context: $context) {\n      inlineNotification(\n        notificationLocation: $notificationLocation\n        lineOfBusiness: $lineOfBusiness\n        pageLocation: $pageLocation\n        optionalPageId: $optionalPageId\n        optionalContext: $optionalContext\n      ) {\n        type\n        notificationLocation\n        theme {\n          __typename\n          ... on NotificationCardTheme {\n            themeValue\n          }\n        }\n        switch {\n          enabled\n          checked\n          checkedLabel\n          checkedDescription\n          checkedAccessibilityLabel\n          uncheckedLabel\n          uncheckedDescription\n          uncheckedAccessibilityLabel\n          label\n          checkedAnalytics {\n            referrerId\n            linkName\n          }\n          uncheckedAnalytics {\n            referrerId\n            linkName\n          }\n        }\n        title {\n          accessibilityLabel\n          completeText\n          egdsItems {\n            ... on NotificationEGDSTextNode {\n              text\n              theme\n              weight\n            }\n            ... on NotificationEGDSLinkNode {\n              action {\n                accessibility\n                analytics {\n                  linkName\n                  referrerId\n                }\n                resource {\n                  value\n                }\n                target\n              }\n            }\n          }\n          items {\n            __typename\n            text\n            styles\n            ... on NotificationPhraseLinkNode {\n              id\n              type\n              uri {\n                __typename\n                value\n              }\n              target\n              actions {\n                ...NotificationActionFragment\n              }\n            }\n          }\n        }\n        body {\n          accessibilityLabel\n          egdsItems {\n            ... on NotificationEGDSTextNode {\n              text\n              theme\n              weight\n            }\n            ... on NotificationEGDSLinkNode {\n              action {\n                accessibility\n                analytics {\n                  linkName\n                  referrerId\n                }\n                resource {\n                  value\n                }\n                target\n              }\n            }\n          }\n          items {\n            __typename\n            text\n            styles\n            ... on NotificationPhraseLinkNode {\n              id\n              type\n              uri {\n                __typename\n                value\n              }\n              icon {\n                id\n                description\n                title\n              }\n              actions {\n                ...NotificationActionFragment\n              }\n            }\n          }\n        }\n        subBody {\n          ... on NotificationSimpleBody {\n            title {\n              ...TitleParts\n            }\n          }\n          ... on NotificationMultiBody {\n            title {\n              ...TitleParts\n            }\n            body {\n              ...TitleParts\n            }\n          }\n          ... on NotificationMessageCard {\n            title {\n              ...TitleParts\n            }\n            body {\n              ...TitleParts\n            }\n            graphicElement {\n              ... on Icon {\n                description\n                id\n                size\n                theme\n                title\n                token\n                withBackground\n              }\n              ... on Mark {\n                description\n                id\n                markSize: size\n                url {\n                  ... on HttpURI {\n                    relativePath\n                    value\n                  }\n                }\n              }\n              ... on Illustration {\n                description\n                id\n                link: url\n              }\n            }\n            links {\n              id\n              text\n              type\n              uri {\n                value\n              }\n              linkStyle\n              linkTheme\n              target\n              actions {\n                ... on NotificationAnalytics {\n                  description\n                  referrerId\n                  schema {\n                    name\n                    messageContent {\n                      name\n                      value\n                    }\n                  }\n                }\n                ... on NotificationCookie {\n                  name\n                  value\n                  expires\n                }\n              }\n            }\n            layout\n          }\n        }\n        legalText {\n          accessibilityLabel\n          items {\n            __typename\n            text\n            styles\n            ... on NotificationPhraseLinkNode {\n              id\n              type\n              uri {\n                __typename\n                value\n              }\n              target\n              actions {\n                ...NotificationActionFragment\n              }\n            }\n          }\n        }\n        containerLink {\n          uri {\n            __typename\n            value\n          }\n          target\n          actions {\n            ...NotificationActionFragment\n          }\n        }\n        icon {\n          description\n          id\n          title\n        }\n        logo {\n          description\n          url\n        }\n        links {\n          id\n          type\n          text\n          uri {\n            __typename\n            value\n          }\n          linkStyle\n          linkTheme\n          icon {\n            id\n            description\n            title\n          }\n          actions {\n            ...NotificationActionFragment\n          }\n        }\n        attributes {\n          name\n          value\n        }\n        dismiss {\n          icon {\n            id\n            description\n            title\n          }\n          actions {\n            ...NotificationActionFragment\n          }\n        }\n        revealActions {\n          ...NotificationActionFragment\n        }\n        backgroundImage {\n          url\n          description\n        }\n        customQrCode {\n          __typename\n          image {\n            url\n            description\n          }\n          title\n        }\n        form {\n          __typename\n          title\n          sections {\n            __typename\n            title\n            fields {\n              __typename\n              ... on NotificationTextInputField {\n                label\n                id\n                placeholder\n                icon {\n                  id\n                  description\n                  title\n                }\n              }\n              ... on NotificationSubmitButton {\n                label\n                id\n                actions {\n                  ...NotificationActionFragment\n                }\n                icon {\n                  id\n                  description\n                  title\n                }\n                buttonType\n              }\n              ... on NotificationSelectionField {\n                label\n                id\n                options {\n                  __typename\n                  id\n                  text\n                  shortLabel\n                  value\n                  selected\n                  icon {\n                    id\n                    description\n                    title\n                  }\n                }\n              }\n            }\n          }\n          feedbackMessages {\n            __typename\n            name\n            title\n            text\n            displayType\n            level\n          }\n          successFormAnalytics {\n            ...NotificationActionFragment\n          }\n          errorFormAnalytics {\n            ...NotificationActionFragment\n          }\n        }\n      }\n    }\n  }\n"]);return ce=function(){return e},e}var ue,de=function(e){return!Number.isNaN(Number(e))},se=function(e,t,n){var l=Array.isArray(t)?t:function(e){return e.split(".").map((function(e){var t=e.match(/^\[(\d+)\]$/);return t?t[1]:e}))}(t),i=ie(l),a=i[0],r=i.slice(1);Object.prototype.hasOwnProperty.call(e,a)||(r.length?e[a]=de(r[0])?[]:{}:e[a]=n),r.length&&se(e[a],r,n)},me=((0,r.Ps)(re()),function(){var e=(0,o.useClickTracker)(),t=(0,o.useEgClickstream)(),n=(0,l.useMemo)((function(){return{NotificationCookie:function(e){document.cookie="".concat(e.name,"=").concat(e.value,"; path=/; expires=").concat(e.expires)},NotificationAnalyticsEgClickstream:function(e){var n,l,i,a,r;t((i=(n=e).event,a=n.schema,r={event:{event_name:i.eventName,event_type:i.eventType,event_category:i.eventCategory,event_version:i.eventVersion,action_location:null!==(l=i.actionLocation)&&void 0!==l?l:""}},null==a||a.forEach((function(e){var t=e.name;e.messageContent.forEach((function(e){var n=e.name,l=e.value;se(r,"".concat(t,".").concat(n),l)}))})),r))},NotificationAnalytics:function(t){e(t.referrerId,t.description||"",void 0,function(e){var t,n=[];return null===(t=e.schema)||void 0===t||t.forEach((function(e){var t={};e.messageContent.forEach((function(e){var n=e.name,l=e.value,i=n.split(".");if(1===i.length)t[n.replace(/\s/g,"-")]=l;else{var a=t[i[0]];if(a){var r=ee(J({},a[0]),Z({},i[1],de(l)?Number.parseInt(l,10):l));t[i[0]]=[r]}else t[i[0]]=[Z({},i[1],de(l)?Number.parseInt(l,10):l)]}})),n.push({schemaName:e.name,messageContent:t})})),n}(t))}}}),[e,t]);return(0,l.useCallback)((function(e){null==e||e.forEach((function(e){var t;null===(t=n[e.__typename])||void 0===t||t.call(n,e)}))}),[n])}),ve=function(e){return e.AFTER_HEADER="AFTER_HEADER",e.AFTER_WIZARD="AFTER_WIZARD",e.ERROR="ERROR",e.FOOTER="FOOTER",e.IN_PAGE="IN_PAGE",e.IN_PAGE_AD="IN_PAGE_AD",e.LEGAL="LEGAL",e.POPUP="POPUP",e.PRE_HEADER="PRE_HEADER",e}(ve||{}),Ee=function(e,t){if(e){var n=new URL(e);return n.searchParams.has("$canonical_url")||!t?"".concat(n):"".concat(n,"&").concat(encodeURIComponent("$canonical_url"),"=").concat(encodeURIComponent(t))}},fe=function(e){var t,n=e.title,i=e.revealActions,a=e.logo,r=e.tuneLink,o=e.dismiss,p=e.referer,g=ne(l.useState(!0),2),y=g[0],b=g[1],k=me();l.useEffect((function(){k(i)}),[]);if(!y)return null;var h=Ee(null==r||null===(t=r.uri)||void 0===t?void 0:t.value,p),L="data:image/svg+xml,".concat(encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg"><linearGradient id="g" gradientTransform="rotate(45)"><stop offset="0%" stop-color="#212841"  /><stop offset="54.45%" stop-color="#184268" /><stop offset="100%" stop-color="#0576B6" /></linearGradient><rect width="100%" height="150%" fill="url(#g)" /></svg>'));return l.createElement(E.l,{padding:"six"},l.createElement(m.N,{src:L},l.createElement(v.UitkLayoutFlex,{direction:"column",blockSize:"full_size",justifyContent:"space-between"},l.createElement(v.UitkLayoutFlexItem,{alignSelf:"end"},l.createElement(c.n,{onClick:function(){b(!1),k(o.actions)},"aria-label":o.icon.description},l.createElement(s.fR,{name:"close"}))),l.createElement(v.UitkLayoutFlexItem,{alignSelf:"center"},l.createElement("div",null,l.createElement("img",{alt:a.description,src:a.url,width:"64",height:"64"}))),l.createElement(v.UitkLayoutFlexItem,null,l.createElement(E.l,{margin:{blockstart:"six"}},l.createElement("div",null,n.items.map((function(e,t){var n=e.text;return l.createElement(f.b,{key:"text-element-".concat(t),theme:"inverse",align:"center",size:700,weight:"medium"},n)}))))),(null==r?void 0:r.uri)&&l.createElement(v.UitkLayoutFlexItem,{alignSelf:"center"},l.createElement(E.l,{margin:{blockstart:"six",blockend:"three"}},l.createElement(u.Y,{inverse:!0,href:h,size:d.xY.LARGE,onClick:function(){k(null==r?void 0:r.actions)}},r.text))))))},pe=function(e,t,n){var l=n||"PRE_HEADER",i=e.identify({type:t,notificationLocation:l,__typename:"InlineNotification"});e.evict({id:i}),e.gc()},ge=(Z(ue={},"PRIMARY_BUTTON",u.Y),Z(ue,"SECONDARY_BUTTON",_.p),ue),ye=function(e){return ge["".concat(e)]||u.Y},be=function(e){var t,n,i,a,r,o,u,_,I=e.type,T=e.notificationLocation,C=e.body,S=e.title,N=e.logo,w=e.dismiss,R=e.qrCodeUrl,O=e.qrCodeDesc,F=e.qrCodeTitle,P=e.bannerLink,U=e.revealActions,D=e.referer,M=e.termsAndConditions,z=ne(l.useState(!0),2),B=z[0],V=z[1],Y=(0,p.x)().cache,G=me(),j=l.useRef(null),q=l.useCallback((function(){return B&&G(U),B}),[B]),H=l.useCallback((function(){V(!1),G(null==w?void 0:w.actions),pe(Y,I,T)}),[]),W=l.useCallback((function(){G(null==P?void 0:P.actions)}),[]),K=l.useMemo((function(){var e;return Ee(null==P||null===(e=P.uri)||void 0===e?void 0:e.value,D)}),[]),Q=l.useMemo((function(){return ye(null==P?void 0:P.type)}),[]);return l.createElement(l.Fragment,null,B&&q()&&l.createElement(g.Viewport,null,l.createElement(g.ViewSmall,null,l.createElement(L.K,{isVisible:B,type:"bottom",triggerRef:j},l.createElement(A.K,{canvasTheme:"brand_promo_primary",layout:"fullwidth"},l.createElement(E.l,{margin:{blockstart:"three",blockend:"six",inline:"two"}},l.createElement(x.z,{padded:!1,fullSheetContentMaxWidth:"extra-large"},l.createElement(v.UitkLayoutFlex,{direction:"column",blockSize:"full_size",justifyContent:"space-between"},l.createElement(v.UitkLayoutFlexItem,{alignSelf:"end"},l.createElement(E.l,{margin:{blockstart:"one",blockend:"four",inlineend:"one"}},l.createElement(c.n,{onClick:H,"aria-label":"close"},l.createElement(s.fR,{name:"close",size:s.eZ.MEDIUM,theme:"primary",title:"Close Sheet",id:"sheet-close-button"})))),l.createElement(v.UitkLayoutFlexItem,{alignSelf:"center"},l.createElement("img",{alt:null==N?void 0:N.description,src:null==N?void 0:N.url,width:56})),l.createElement(v.UitkLayoutFlexItem,{alignSelf:"center"},l.createElement(E.l,{margin:{blockstart:"four"}},l.createElement(f.b,{theme:"inverse",align:"center",weight:"medium",size:600},null===(t=null==C?void 0:C[0].items)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.text))),(null==P?void 0:P.uri)&&K&&l.createElement(v.UitkLayoutFlexItem,{alignSelf:"center"},l.createElement(E.l,{margin:{blockstart:"six",blockend:"four"}},l.createElement(Q,{href:K,size:d.xY.LARGE,onClick:W},P.text))),(null==M?void 0:M.text)&&(null==M?void 0:M.uri)&&l.createElement(v.UitkLayoutFlexItem,null,l.createElement(E.l,{margin:{blockstart:"two",blockend:"four",inline:"one"}},l.createElement(h.M,{align:"center",size:"small",theme:"inverse",inline:!0},l.createElement("a",{href:M.uri.value,target:"_blank",rel:"noopener noreferrer"},M.text)))))))))),l.createElement(g.ViewMedium,null,l.createElement(L.K,{isVisible:B,type:"bottom",triggerRef:j},l.createElement(A.K,{canvasTheme:"brand_promo_primary",layout:"fullwidth"},l.createElement(E.l,{margin:{inlinestart:"one",inlineend:"two",blockstart:"three",blockend:"six"}},l.createElement(x.z,{padded:!1,fullSheetContentMaxWidth:"extra-large"},l.createElement(v.UitkLayoutFlex,{direction:"row-reverse"},l.createElement(v.UitkLayoutFlexItem,null,l.createElement(E.l,{margin:{inlineend:"one",blockstart:"one"}},l.createElement(c.n,{name:null==w||null===(i=w.icon)||void 0===i?void 0:i.id,onClick:H,"aria-label":"close"},l.createElement(s.fR,{name:"close",size:s.eZ.EXTRA_SMALL,theme:"primary",description:null==w||null===(a=w.icon)||void 0===a?void 0:a.description,id:"sheet-close-button"}))))),l.createElement(b.a,{columns:10},l.createElement(k.P,{colSpan:8},l.createElement("div",null,l.createElement(b.a,{columns:8},l.createElement(k.P,{colSpan:1,alignSelf:"center"},l.createElement(E.l,{padding:{inlinestart:"one"}},l.createElement("img",{src:null==N?void 0:N.url,alt:null==N?void 0:N.description,height:45}))),(null===(r=null==S?void 0:S.items[0])||void 0===r?void 0:r.text)&&l.createElement(k.P,{colSpan:7,alignSelf:"center"},l.createElement(E.l,{padding:{block:"two"}},l.createElement(f.b,{theme:"inverse",align:"left",size:600,weight:"bold"},null===(o=null==S?void 0:S.items[0])||void 0===o?void 0:o.text)))),l.createElement(b.a,null,l.createElement(k.P,null,l.createElement(E.l,{padding:{block:"three",inlineend:"four",inlinestart:"one"}},l.createElement(f.b,{theme:"inverse",weight:"medium",size:500},null===(u=null==C?void 0:C[0].items)||void 0===u||null===(_=u[0])||void 0===_?void 0:_.text)))),(null==P?void 0:P.text)&&K&&l.createElement(b.a,{columns:10},l.createElement(k.P,{colSpan:5},l.createElement("div",null,l.createElement(E.l,{margin:{inlinestart:"one"}},l.createElement(Q,{href:K,size:d.xY.LARGE,onClick:W},P.text))))),(null==M?void 0:M.text)&&(null==M?void 0:M.uri)&&l.createElement(E.l,{padding:{blockstart:"four"}},l.createElement("div",null,l.createElement(E.l,{margin:{inlinestart:"one",blockend:"one"}},l.createElement(h.M,{size:"small",theme:"inverse",inline:!0},l.createElement("a",{href:M.uri.value,target:"_blank",rel:"noopener noreferrer"},M.text))))))),l.createElement(k.P,{colSpan:2},l.createElement("div",null,l.createElement("div",{role:"definition","aria-labelledby":"qrCodeTitle"},l.createElement("input",{type:"hidden",id:"qrCodeTitle","aria-label":F})),l.createElement(E.l,{padding:{inlinestart:"four",blockstart:"six"}},l.createElement("div",null,l.createElement(m.N,{ratio:m.s.R1_1},l.createElement(y.p,{src:R,alt:O})))),l.createElement(E.l,{padding:{blockstart:"three",inlinestart:"four"}},l.createElement(f.b,{theme:"inverse",align:"center",weight:"medium",size:200,"aria-hidden":"true"},F))))))))))))};be.displayName="BottomSheet";var ke=l.memo(be),he=function(e){var t,n,i,a,r,o,c,u,s,_=e.type,C=e.notificationLocation,S=e.body,N=e.title,w=e.logo,R=e.dismiss,O=e.qrCodeUrl,F=e.qrCodeDesc,P=e.qrCodeTitle,U=e.bannerLink,D=e.revealActions,M=e.referer,z=e.termsAndConditions,B=ne((0,I.useDialog)("customer-notification-centered-sheet-dialog"),3),V=B[0],Y=B[1],G=B[2],j=(0,p.x)().cache,q=me(),H=l.useRef(null),W=l.useCallback((function(){return V&&q(D),V}),[V]),K=l.useCallback((function(){Y.closeDialog(),q(null==R?void 0:R.actions),pe(j,_,C)}),[]),Q=l.useCallback((function(){q(null==U?void 0:U.actions)}),[]);l.useEffect((function(){Y.openDialog()}),[]);var $=l.useMemo((function(){var e;return Ee(null==U||null===(e=U.uri)||void 0===e?void 0:e.value,M)}),[]),Z=l.useMemo((function(){return ye((null==U?void 0:U.type)||"")}),[]);return l.createElement(l.Fragment,null,V&&W()&&l.createElement(g.Viewport,null,l.createElement(g.ViewSmall,null,l.createElement(G,null,l.createElement(E.l,{margin:{inline:"six"}},l.createElement(L.K,{isVisible:V,type:"centered",triggerRef:H,centeredSheetSize:"small"},l.createElement(E.l,{padding:{inlinestart:"one",blockstart:"one"}},l.createElement(T.N4,{overlay:!0,navigationContent:{onClick:K,navIconLabel:null==R||null===(t=R.icon)||void 0===t?void 0:t.description,navButtonId:null==R||null===(n=R.icon)||void 0===n?void 0:n.id}})),l.createElement(E.l,{padding:{blockstart:"six"}},l.createElement(A.K,{canvasTheme:"brand_promo_primary",layout:"fullwidth"},l.createElement(E.l,{margin:{block:"six",inline:"two"}},l.createElement(x.z,{padded:!1,fullSheetContentMaxWidth:"extra-large"},l.createElement(v.UitkLayoutFlex,{direction:"column",blockSize:"full_size",justifyContent:"space-between"},l.createElement(v.UitkLayoutFlexItem,{alignSelf:"center"},l.createElement("img",{alt:null==w?void 0:w.description,src:null==w?void 0:w.url,width:56})),l.createElement(v.UitkLayoutFlexItem,{alignSelf:"center"},l.createElement(E.l,{margin:{blockstart:"four"}},l.createElement(f.b,{theme:"inverse",align:"center",weight:"medium",size:600},null===(i=null==S?void 0:S[0].items)||void 0===i||null===(a=i[0])||void 0===a?void 0:a.text))),(null==U?void 0:U.uri)&&l.createElement(v.UitkLayoutFlexItem,{alignSelf:"center"},l.createElement(E.l,{margin:{blockstart:"six",blockend:"four"}},l.createElement(Z,{href:$,size:d.xY.LARGE,onClick:Q},U.text))),(null==z?void 0:z.text)&&(null==z?void 0:z.uri)&&l.createElement(v.UitkLayoutFlexItem,null,l.createElement(E.l,{margin:{blockstart:"two",blockend:"four",inline:"one"}},l.createElement(h.M,{align:"center",size:"small",theme:"inverse",inline:!0},l.createElement("a",{href:z.uri.value,target:"_blank",rel:"noopener noreferrer"},z.text))))))))))))),l.createElement(g.ViewMedium,null,l.createElement(G,null,l.createElement(L.K,{isVisible:V,type:"centered",triggerRef:H,centeredSheetSize:"medium"},l.createElement(E.l,{padding:{inlinestart:"one",blockstart:"one"}},l.createElement(T.N4,{overlay:!0,navigationContent:{onClick:K,navIconLabel:null==R||null===(r=R.icon)||void 0===r?void 0:r.description,navButtonId:null==R||null===(o=R.icon)||void 0===o?void 0:o.id}})),l.createElement(E.l,{padding:{blockstart:"six"}},l.createElement(A.K,{canvasTheme:"brand_promo_primary",layout:"fullwidth"},l.createElement(x.z,null,l.createElement(b.a,{columns:10},l.createElement(k.P,{colSpan:7},l.createElement("div",null,l.createElement(b.a,{columns:6},l.createElement(k.P,{colSpan:1},l.createElement("img",{alt:null==w?void 0:w.description,src:null==w?void 0:w.url,width:55})),(null===(c=null==N?void 0:N.items[0])||void 0===c?void 0:c.text)&&l.createElement(k.P,{colSpan:5},l.createElement(E.l,{padding:{block:"four"}},l.createElement(f.b,{theme:"inverse",align:"left",size:600,weight:"bold"},null==N?void 0:N.items[0].text)))),l.createElement(b.a,null,l.createElement(k.P,null,l.createElement(E.l,{padding:{block:"six",inlineend:"four"}},l.createElement(f.b,{theme:"inverse",weight:"medium",size:500},null===(u=null==S?void 0:S[0].items)||void 0===u||null===(s=u[0])||void 0===s?void 0:s.text)))),(null==U?void 0:U.text)&&l.createElement(b.a,{columns:10},l.createElement(k.P,{colSpan:4},l.createElement("div",null,l.createElement(Z,{href:$,size:d.xY.LARGE,onClick:Q,isFullWidth:!1},null==U?void 0:U.text)))),(null==z?void 0:z.text)&&(null==z?void 0:z.uri)&&l.createElement(E.l,{padding:{blockstart:"four"}},l.createElement("div",null,l.createElement(h.M,{size:"small",theme:"inverse",inline:!0},l.createElement("a",{href:z.uri.value,target:"_blank",rel:"noopener noreferrer"},z.text)))))),l.createElement(k.P,{colSpan:3},l.createElement("div",null,l.createElement("div",{role:"definition","aria-labelledby":"qrCodeTitle"},l.createElement("input",{type:"hidden",id:"qrCodeTitle","aria-label":P})),l.createElement(E.l,{padding:{inlinestart:"four"}},l.createElement("div",null,l.createElement(m.N,{ratio:m.s.R1_1},l.createElement(y.p,{src:O,alt:F})))),l.createElement(E.l,{padding:{blockstart:"six",inlinestart:"four"}},l.createElement(f.b,{theme:"inverse",align:"center",weight:"medium",size:200,"aria-hidden":"true"},P)))))))))))))};he.displayName="CenteredSheet";var Le=l.memo(he),xe=function(e){var t=e.bodyText,n=e.cardImage,i=e.headingText,a=e.learnMoreLink,r=e.revealActions,o=me();l.useEffect((function(){o(r)}),[]);var c;return l.createElement(C.t,null,l.createElement(S.U,{padded:!1},l.createElement(E.l,{padding:"four"},l.createElement("div",null,l.createElement("img",{src:n.url,alt:n.description}),l.createElement(E.l,{padding:{block:"two"}},l.createElement(N.y,{tag:"h2",size:5},i)),l.createElement(f.b,{size:300},t),l.createElement(E.l,{padding:{blockstart:"two",inlineend:"six"}},l.createElement(h.M,{onClick:(c=a,function(){o(c.actions)}),inline:!0},a.uri?l.createElement("a",{href:a.uri.value,target:"_blank",rel:"noopener noreferrer"},a.text):l.createElement("button",{type:"button"},a.text)))))))};xe.displayName="CitiCobrandVerticalAd";var Ae=function(e){var t=e.bodyText,n=e.cardImage,i=e.headingText,a=e.learnMoreLink,r=e.revealActions,o=me();l.useEffect((function(){o(r)}),[]);var c;return l.createElement(C.t,null,l.createElement(S.U,{padded:!1},l.createElement(E.l,{padding:"four"},l.createElement("div",null,l.createElement(b.a,{columns:3},l.createElement(k.P,{colSpan:"all"},l.createElement("div",null,l.createElement(N.y,{tag:"h2",size:6},i))),l.createElement(E.l,{padding:{blockstart:"three",inlineend:"one"}},l.createElement(k.P,{colSpan:2},l.createElement("div",null,l.createElement(f.b,{align:"left",size:300},t),l.createElement(E.l,{padding:{blockstart:"two",inlineend:"six"}},l.createElement(h.M,{onClick:(c=a,function(){o(c.actions)}),inline:!0},a.uri?l.createElement("a",{href:a.uri.value,target:"_blank",rel:"noopener noreferrer"},a.text):l.createElement("button",{type:"button"},a.text)))))),l.createElement(E.l,{padding:{blockstart:"three"}},l.createElement(k.P,{colSpan:1},l.createElement(v.UitkLayoutFlex,{alignItems:"end",direction:"column"},l.createElement("img",{src:n.url,alt:n.description})))))))))};Ae.displayName="CitiCobrandAd";var _e,Ie,Te,Ce,Se,Ne,we,Re=function(e){var t,n,i,a,r,o,c=e.data||{},u=c.type,d=c.title,s=c.backgroundImage,m=c.body,v=c.links,E=c.revealActions;return s&&m&&v&&E&&d?u&&"CITI_COBRAND_VERTICAL"===u?l.createElement(xe,{bodyText:null===(a=null===(r=m[0])||void 0===r?void 0:r.items[0])||void 0===a?void 0:a.text,cardImage:s,headingText:null===(o=d.items[0])||void 0===o?void 0:o.text,learnMoreLink:v[0],revealActions:E}):l.createElement(Ae,{bodyText:null===(t=null===(n=m[0])||void 0===n?void 0:n.items[0])||void 0===t?void 0:t.text,cardImage:s,headingText:null===(i=d.items[0])||void 0===i?void 0:i.text,learnMoreLink:v[0],revealActions:E}):null},Oe=function(e){var t=e.iconName,n=e.title,i=e.subtitle;return l.createElement(k.P,null,l.createElement(v.UitkLayoutFlex,{alignItems:"center",space:"four"},l.createElement(v.UitkLayoutFlexItem,{minWidth:"fifteen"},l.createElement(v.UitkLayoutFlex,null,l.createElement(s.fR,{name:t,spotlight:"standard"}))),l.createElement(v.UitkLayoutFlexItem,null,l.createElement(v.UitkLayoutFlex,{direction:"column"},l.createElement(v.UitkLayoutFlexItem,null,l.createElement(N.y,{size:7},n)),l.createElement(v.UitkLayoutFlexItem,null,l.createElement(f.b,null,i))))))},Fe=function(e){var t=e.title,n=e.subtitle,i=e.messages;return l.createElement(v.UitkLayoutFlex,{space:"four",direction:"column"},l.createElement(v.UitkLayoutFlexItem,null,l.createElement("div",null,l.createElement(N.y,{tag:"h2",size:3},t),l.createElement(w.a,null,n))),l.createElement(v.UitkLayoutFlexItem,null,l.createElement(b.a,{columns:{small:1,medium:2},space:"four"},(i||[]).map((function(e){return l.createElement(Oe,J({key:e.iconName},e))})))))},Pe={H:"LODGING",P:"PACKAGES",F:"FLIGHT",C:"CAR",CR:"CRUISES",A:"ACTIVITIES",U:"UNCLASSIFIED",R:"RAILS",GT:"GROUNDTRANSFERS"},Ue={0:"SYSTEM",10:"ENTRY",20:"SEARCH_RESULTS",30:"DETAILS",40:"CHECKOUT",50:"CHECKOUT_ERROR",60:"PAYMENT_ERROR",70:"CONFIRMATION",80:"POST_BOOKING",90:"USER",500:"FEATURES"},De=Object.freeze((Z(_e={},"BOLD","bold"),Z(_e,"MEDIUM","medium"),Z(_e,"REGULAR","regular"),_e)),Me=Object.freeze((Z(Ie={},"INVERSE","inverse"),Z(Ie,"LOYALTY","loyalty"),Z(Ie,"NEGATIVE","negative"),Z(Ie,"POSITIVE","positive"),Z(Ie,"PRIMARY","default"),Z(Ie,"SECONDARY","default"),Ie)),ze={PRIMARY:O.iQ.PRIMARY,SECONDARY:O.iQ.SECONDARY,GLOBAL_LOYALTY_STANDARD:O.iQ.GLOBAL_LOYALTY_STANDARD,GLOBAL_LOYALTY_LOW:O.iQ.GLOBAL_LOYALTY_LOW,GLOBAL_LOYALTY_HIGH:O.iQ.GLOBAL_LOYALTY_HIGH,GLOBAL_LOYALTY_EXTRAHIGH:O.iQ.GLOBAL_LOYALTY_EXTRAHIGH,GLOBAL_LOYALTY_MIDDLE:O.iQ.GLOBAL_LOYALTY_MIDDLE},Be=function(e){return null!==(Te=ze["".concat(e)])&&void 0!==Te?Te:O.iQ.GLOBAL_LOYALTY_STANDARD},Ve=function(e){return null!==(Ce=Me["".concat(e)])&&void 0!==Ce?Ce:Me.INVERSE},Ye={INVERSE:"inverse",DEFAULT:"default"},Ge=function(e){var t=e.background,n=e.children;return l.createElement(C.t,{backgroundTheme:Be(null!=t?t:"GLOBAL_LOYALTY_STANDARD"),padded:!0},n)},je=function(e){var t=e.children,n=e.bannerLink,i=e.onCardClickCallback;return n?l.createElement("a",{href:n,onClick:i,onKeyDown:i},t):l.createElement(l.Fragment,null,t)},qe=(Z(Ne={},"PRE_HEADER",(function(e){var t=e.children;return l.createElement(A.K,{canvasTheme:"brand_promo_primary",layout:"centered"},t)})),Z(Ne,"IN_PAGE",Ge),Ne),He=function(e){var t,n,i=e.body,a=null==i||null===(t=i[0])||void 0===t||null===(n=t.egdsItems)||void 0===n?void 0:n[0],r="NotificationEGDSTextNode"===(null==a?void 0:a.__typename)?null==a?void 0:a.theme:"INVERSE";return l.createElement(l.Fragment,null,i.map((function(e,t){var n;return null===(n=e.items)||void 0===n?void 0:n.map((function(e,n){var i=e.text,a=e.styles;return l.createElement(f.b,{key:"body-".concat(t,".item-").concat(n),theme:Ve(r),align:"left",size:300,weight:"IMPORTANT"===(null==a?void 0:a[0])?"bold":"regular"},i)}))})))},We=(Z(we={},"PRIMARY_BUTTON",u.Y),Z(we,"SECONDARY_BUTTON",_.p),Z(we,"TERTIARY_BUTTON",F.m),we),Ke=function(e){var t=e.links,n=e.isMobile,i=e.isButtonOnRight,a=e.referer,r=me(),o=i?{padding:{extra_large:{blockstart:"unset",inlinestart:"unset"},large:{blockstart:"unset",inlinestart:"unset"},medium:{blockstart:"three",inlinestart:"unset"},small:{blockstart:"three",inlinestart:"unset"}}}:{padding:{blockstart:"three",inlinestart:"unset"}};return l.createElement(v.UitkLayoutFlexItem,{shrink:0},l.createElement(E.l,{padding:o.padding},l.createElement(v.UitkLayoutFlex,{direction:"row",alignItems:"center"},null==t?void 0:t.map((function(e,t){var i,o,c,s=Ee(null===(i=e.uri)||void 0===i?void 0:i.value,a);if("ANCHOR"===e.type)return l.createElement(h.M,{noWrap:!0,theme:null!==(c=null==e?void 0:e.linkTheme,o=null!==(Se=Ye["".concat(c)])&&void 0!==Se?Se:"inverse")&&void 0!==o?o:"inverse",inline:!0,onClick:function(){return r(e.actions)}},l.createElement("a",{"aria-label":null==e?void 0:e.text,href:s,target:"_blank",rel:"noopener noreferrer"},e.text));var m,v=(m=e.type,We["".concat(m)]||u.Y),f=n?d.xY.SMALL:d.xY.MEDIUM;return l.createElement(E.l,{margin:{inlineend:"three"},key:t},l.createElement(v,{href:s,size:f,onClick:function(){return r(e.actions)}},e.text))})))))},Qe=function(e){var t,n,i=e.subBody,a=null===(t=null==i?void 0:i[0].title)||void 0===t||null===(n=t.egdsItems)||void 0===n?void 0:n[0],r="NotificationEGDSTextNode"===(null==a?void 0:a.__typename)?null==a?void 0:a.theme:"INVERSE",o=a&&"text"in a&&a.text,c=a&&"weight"in a&&a.weight||"REGULAR";return l.createElement(l.Fragment,null,l.createElement(f.b,{theme:Ve(r),weight:c&&De[c],size:300},o))},$e=function(e){var t,n,i,a,r,o,u,b=e.type,k=e.notificationLocation,h=e.title,L=e.revealActions,x=e.logo,A=e.links,_=e.containerLink,I=e.dismiss,T=e.referer,C=e.body,S=e.subBody,N=e.icon,w=e.qrCode,O=e.backgroundTheme,F=me(),P=ne(l.useState(!0),2),U=P[0],D=P[1],M=(0,p.x)().cache,z="IN_PAGE"===k,B=null==h||null===(t=h.egdsItems)||void 0===t?void 0:t[0],V="NotificationEGDSTextNode"===(null==B?void 0:B.__typename)?null==B?void 0:B.theme:"INVERSE",Y=l.useCallback((function(){return U&&F(L),U}),[U]),G=z?10:12,j=z?{margin:{blockstart:"one"}}:{margin:{}},q=l.useMemo((function(){return qe["".concat(k)]||Ge}),[]),H=l.useMemo((function(){var e;return Ee(null==_||null===(e=_.uri)||void 0===e?void 0:e.value,T)}),[]),W=l.useCallback((function(){D(!1),F(null==I?void 0:I.actions),pe(M,b,k)}),[]),K=l.useCallback((function(){F(null==_?void 0:_.actions)}),[]);return l.createElement(l.Fragment,null,U&&Y()&&l.createElement(g.Viewport,null,l.createElement(g.ViewLarge,null,l.createElement(q,{background:O},l.createElement(v.UitkLayoutFlex,{direction:"row",alignContent:"center",justifyContent:"space-between",space:"twelve"},l.createElement(v.UitkLayoutFlexItem,{alignSelf:"center"},l.createElement(je,{bannerLink:z?null:H,onCardClickCallback:K},l.createElement(E.l,{padding:{block:z?"unset":"three"}},l.createElement(v.UitkLayoutFlex,{direction:"row",alignItems:"center"},l.createElement(v.UitkLayoutFlexItem,{alignSelf:"center",grow:0,shrink:z?0:1},(null==x?void 0:x.url)?l.createElement(R.FV,{url:x.url,description:x.description,size:G}):null,(null==N?void 0:N.id)?l.createElement("span",null,l.createElement(s.fR,{name:N.id,title:N.title||"",description:N.description,spotlight:{theme:"standard",background:!0}})):null),l.createElement(v.UitkLayoutFlexItem,{alignSelf:"center",grow:0,shrink:1},l.createElement(E.l,{padding:{inlinestart:z?"four":"three"}},l.createElement(v.UitkLayoutFlex,{direction:"column",alignItems:"start",space:z?"half":void 0},null==h||null===(n=h.items)||void 0===n?void 0:n.map((function(e,t){var n=e.text,i=e.styles;return l.createElement(f.b,{key:"text-element-".concat(t),theme:Ve(V),align:"left",size:300,weight:"IMPORTANT"===(null==i?void 0:i[0])?"bold":"medium"},n)})),C&&l.createElement(He,{body:C,isCardBody:z}),S&&l.createElement(Qe,{subBody:S}),A&&(null==w?void 0:w.title)&&l.createElement(Ke,{links:A,referer:T})))))))),I&&l.createElement(v.UitkLayoutFlexItem,{alignSelf:"center"},l.createElement(c.n,{onClick:W,name:"close","aria-label":"close",size:d.xY.SMALL},l.createElement(s.fR,{name:"close",size:s.eZ.SMALL}))),A&&!w&&l.createElement(Ke,{links:A,isButtonOnRight:!0,referer:T}),w&&l.createElement(v.UitkLayoutFlexItem,{grow:1,minWidth:76,maxWidth:76,alignSelf:"center"},l.createElement(v.UitkLayoutFlex,{direction:"column",wrap:"wrap"},(null==w||null===(i=w.image)||void 0===i?void 0:i.url)&&l.createElement(v.UitkLayoutFlexItem,{grow:1,minWidth:78,maxWidth:150,alignSelf:"end"},l.createElement(m.N,{imageFit:"contain"},l.createElement(y.p,{src:null==w||null===(a=w.image)||void 0===a?void 0:a.url,alt:w.image.description,placeholderImage:!0}))),(null==w||null===(r=w.image)||void 0===r?void 0:r.url)&&(null==w?void 0:w.title)&&l.createElement(v.UitkLayoutFlexItem,null,l.createElement(f.b,{theme:"inverse",size:300,align:"center"},null==w?void 0:w.title))))))),l.createElement(g.ViewMedium,null,l.createElement(q,{background:O},l.createElement(v.UitkLayoutFlex,{direction:"row",alignContent:"center",justifyContent:"space-between"},l.createElement(v.UitkLayoutFlexItem,{alignSelf:"center"},l.createElement(je,{bannerLink:z?null:H,onCardClickCallback:K},l.createElement(E.l,{padding:{block:z?"unset":"three"}},l.createElement(v.UitkLayoutFlex,{direction:"row",alignItems:"center",justifyContent:"space-between"},l.createElement(v.UitkLayoutFlexItem,{alignSelf:"start",grow:0,shrink:z?0:1},l.createElement(E.l,{margin:j.margin},(null==x?void 0:x.url)?l.createElement(R.FV,{url:x.url,description:x.description,size:G}):null,(null==N?void 0:N.id)?l.createElement("span",null,l.createElement(s.fR,{name:N.id,title:N.title||"",description:N.description,theme:"primary",size:s.eZ.LARGE,spotlight:"standard"})):null)),l.createElement(v.UitkLayoutFlexItem,{alignSelf:"center",grow:1,shrink:1},l.createElement(E.l,{padding:{inlinestart:z?"four":"three"}},l.createElement(v.UitkLayoutFlex,{direction:"column",alignItems:"start",blockSize:"full_size",justifyContent:"space-between"},null==h||null===(o=h.items)||void 0===o?void 0:o.map((function(e,t){var n=e.text,i=e.styles;return l.createElement(f.b,{key:"text-element-".concat(t),theme:Ve(V),align:"left",size:300,weight:"IMPORTANT"===i[0]?"bold":"regular"},n)})),C&&l.createElement(He,{body:C,isCardBody:z}),S&&(null==w?void 0:w.title)&&l.createElement(Qe,{subBody:S}),A&&l.createElement(Ke,{links:A,isMobile:!0,referer:T})))))))),I&&l.createElement(v.UitkLayoutFlexItem,{alignSelf:"center"},l.createElement(c.n,{onClick:W,name:"close","aria-label":"close",size:d.xY.SMALL},l.createElement(s.fR,{name:"close",size:s.eZ.SMALL})))))),l.createElement(g.ViewSmall,null,l.createElement(q,{background:O},l.createElement(v.UitkLayoutFlex,{direction:"row",alignItems:"center",blockSize:"full_size",justifyContent:"space-between"},l.createElement(v.UitkLayoutFlexItem,{alignSelf:"center"},l.createElement(je,{bannerLink:z?null:H,onCardClickCallback:K},l.createElement(E.l,{padding:{block:z?"unset":"three"}},l.createElement(v.UitkLayoutFlex,{direction:"row",alignItems:"center",justifyContent:"space-between"},l.createElement(v.UitkLayoutFlexItem,{alignSelf:z?"start":"center",grow:0,shrink:z?0:1},l.createElement(E.l,{margin:j.margin},(null==x?void 0:x.url)?l.createElement(R.FV,{url:x.url,description:x.description,size:G}):null,(null==N?void 0:N.id)?l.createElement("span",null,l.createElement(s.fR,{id:N.id,name:N.id,title:N.title||"",description:N.description,theme:"primary",size:s.eZ.LARGE,spotlight:"standard"})):null)),l.createElement(v.UitkLayoutFlexItem,{alignSelf:"center",grow:1,shrink:1},l.createElement(E.l,{padding:{inlinestart:z?"four":"three",inlineend:z?"six":"unset",blockend:z?"one":"unset"}},l.createElement(v.UitkLayoutFlex,{direction:"column",alignItems:"start",blockSize:"full_size",justifyContent:"start"},null==h||null===(u=h.items)||void 0===u?void 0:u.map((function(e,t){var n=e.text,i=e.styles;return l.createElement(f.b,{key:"text-element-".concat(t),theme:Ve(V),align:"left",size:300,weight:"IMPORTANT"===i[0]?"bold":"regular"},n)})),C&&l.createElement(He,{body:C,isCardBody:z}),S&&(null==w?void 0:w.title)&&l.createElement(Qe,{subBody:S}),A&&l.createElement(Ke,{links:A,isMobile:!0,referer:T})))))))),I&&l.createElement(v.UitkLayoutFlexItem,{alignSelf:"center"},l.createElement(c.n,{onClick:W,name:"close","aria-label":"close",size:d.xY.SMALL},l.createElement(s.fR,{name:"close",size:s.eZ.SMALL}))))))))};$e.displayName="ConfigurableBanner";var Ze=l.memo($e),Xe=function(e){var t=e||{},n=t.data,i=n.notificationLocation,a=n.title,r=n.logo,o=n.dismiss,c=n.revealActions,u=n.links,d=n.containerLink,s=n.body,m=n.subBody,v=n.icon,E=n.customQrCode,f=n.theme,p=t.inputs.optionalContext,g="NotificationCardTheme"===(null==f?void 0:f.__typename)?null==f?void 0:f.themeValue:null,y=l.useMemo((function(){return{type:"CONFIGURABLE",notificationLocation:i,title:a,revealActions:c,logo:r,links:u,containerLink:d,dismiss:o,referer:null==p?void 0:p.referer,body:s,subBody:m,icon:v,qrCode:E,backgroundTheme:g}}),[]);return a?l.createElement(Ze,J({},y)):null},Je=function(e){var t=e.heading,n=e.body,i=e.links,a=e.revealActions,r=me();l.useEffect((function(){r(a)}),[]);var o=l.useCallback((function(e){return function(){r(e)}}),[r]);return l.createElement(C.t,{border:!0},l.createElement(E.l,{padding:{inlinestart:"four"}},l.createElement(S.U,null,t&&l.createElement("div",null,l.createElement(N.y,{tag:"h3",size:5},t)),n&&l.createElement("div",null,n.map((function(e,t){var n,i;return l.createElement(f.b,{key:"body-".concat(t),spacing:"one",size:300},null===(n=e.items)||void 0===n||null===(i=n[0])||void 0===i?void 0:i.text)}))),i&&l.createElement(E.l,{margin:{blockstart:"two"}},l.createElement(f.b,{spacing:"three",size:300},i.map((function(e,t){var n,i;return l.createElement(E.l,{key:"link-".concat(t),margin:{inlineend:"twelve"}},l.createElement(h.M,{inline:!0},l.createElement("a",{"aria-label":e.text,href:null===(n=e.uri)||void 0===n?void 0:n.value,target:"_blank",rel:"noopener noreferrer",onClick:o(e.actions)},e.text,(null===(i=e.icon)||void 0===i?void 0:i.description)&&l.createElement("span",{className:"is-visually-hidden"}," ",e.icon.description))))})))))))},et=function(e){var t,n,i=e.type,a=e.notificationLocation,r=e.title,o=e.revealActions,u=e.logo,m=e.containerLink,g=e.dismiss,y=e.referrer,b=e.body,k=me(),h=ne(l.useState(!0),2),L=h[0],x=h[1],_=(0,p.x)().cache;if(l.useEffect((function(){k(o)}),[]),!L)return null;var I=Ee(null==m||null===(t=m.uri)||void 0===t?void 0:t.value,y),T=function(){k(null==m?void 0:m.actions)};return l.createElement(A.K,{canvasTheme:"brand_promo_primary",layout:"centered"},l.createElement(v.UitkLayoutFlex,{direction:"row",alignItems:"center",blockSize:"full_size",justifyContent:"space-between"},l.createElement(v.UitkLayoutFlexItem,{alignSelf:"center"},l.createElement("section",null,l.createElement("a",{href:I,onClick:T,onKeyDown:T},l.createElement(E.l,{padding:{block:"three"}},l.createElement(v.UitkLayoutFlex,{direction:"row",alignItems:"center",justifyContent:"space-between"},l.createElement(v.UitkLayoutFlexItem,{alignSelf:"center",grow:0,shrink:1},l.createElement("img",{alt:u.description,src:u.url,width:"48",height:"48"})),l.createElement(v.UitkLayoutFlexItem,{alignSelf:"center",grow:1,shrink:1},l.createElement(v.UitkLayoutFlex,{direction:"column",alignItems:"start",blockSize:"full_size",justifyContent:"space-between"},r&&l.createElement(E.l,{padding:{inlinestart:"three"}},null===(n=r.items)||void 0===n?void 0:n.map((function(e,t){var n=e.text;return l.createElement(f.b,{key:"text-element-".concat(t),theme:"inverse",align:"left",size:300,weight:"medium"},n)}))),b&&l.createElement(E.l,{padding:{inlinestart:"three"}},b.map((function(e,t){var n;return null===(n=e.items)||void 0===n?void 0:n.map((function(e,n){var i=e.text;return l.createElement(f.b,{key:"body-".concat(t,".item-").concat(n),theme:"inverse",align:"left",size:300},i)}))})))))))))),l.createElement(v.UitkLayoutFlexItem,{alignSelf:"center"},l.createElement(c.n,{onClick:function(){x(!1),k(null==g?void 0:g.actions),pe(_,i,a)},name:"close","aria-label":"close",size:d.xY.SMALL},l.createElement(s.fR,{name:"close",size:s.eZ.SMALL})))))};et.displayName="HeaderBanner";var tt={countryCode:"",phoneNumber:"",phoneNumberErrMsg:"",hasInvalidFields:!1},nt=l.createContext({state:tt}),lt=function(e,t){var n=t.field,l=t.value;return ee(J({},e),Z({},n,l))},it=function(e){var t=e.children,n=e.defaultSelectedOptionVal,i=ee(J({},tt),{countryCode:n}),a=ne(l.useReducer(lt,i),2),r=a[0],o=a[1];return l.createElement(nt.Provider,{value:{state:r,dispatch:o}},t)},at=function(e){var t=e.data||{},n=t.label,i=t.id,a=t.options,r=l.useContext(nt),o=r.state,c=r.dispatch;return a&&a.length?l.createElement(P.e,{id:i,name:i,label:n,value:o.countryCode,onChange:function(e){return c({field:e.target.name,value:e.target.value})}},a.map((function(e){return l.createElement("option",{key:e.id,value:e.value},e.id===o.countryCode?e.shortLabel:e.text)}))):null};at.displayName="CustomerNotificationSelectionField";var rt,ot=function(e){var t=e.data||{},n=t.label,i=t.id,a=l.useContext(nt),r=a.state,o=a.dispatch,c=l.useRef();return l.useEffect((function(){r.hasInvalidFields&&(null==c?void 0:c.current)&&"function"==typeof(null==c?void 0:c.current.focus)&&(null==c||c.current.focus())}),[c,r.hasInvalidFields]),l.createElement(U.w,{id:i,name:i,label:n,value:r.phoneNumber,invalid:r.phoneNumberErrMsg,onChange:function(e){return o({field:e.target.name,value:e.target.value})},domRef:c})};ot.displayName="CustomerNotificationTextInputField";var ct=(Z(rt={},"PRIMARY_BUTTON",u.Y),Z(rt,"SECONDARY_BUTTON",_.p),rt),ut=function(e){return ct["".concat(e)]||u.Y},dt=function(e){var t=e.data||{},n=t.id,i=t.label,a=t.buttonType,r=ut(a);return l.createElement(r,{id:n,name:n,type:"submit",size:d.xY.LARGE,isFullWidth:!0},i)};dt.displayName="CustomerNotificationSubmitButton";var st={NotificationTextInputField:ot,NotificationSubmitButton:dt,NotificationSelectionField:at},mt=l.createContext({rootElements:{heading:!1,body:!1,qrCode:!1,formSections:!1,qrCodeTitle:!1,backgroundImageUrl:!1}}),vt=function(e){var t,n,i,a=e.children,r=e.data,o=r.title,c=r.body,u=r.customQrCode,d=r.form,s=r.backgroundImage,m={rootElements:{heading:!!(null===(t=null==o?void 0:o.items[0])||void 0===t?void 0:t.text),body:!!c,qrCode:!!((null==u||null===(n=u.image)||void 0===n?void 0:n.url)&&(null==u||null===(i=u.image)||void 0===i?void 0:i.description)),formSections:!!(null==d?void 0:d.sections),qrCodeTitle:!!(null==u?void 0:u.title),backgroundImageUrl:!!(null==s?void 0:s.url)}};return l.createElement(mt.Provider,{value:m},a)},Et=function(){return l.useContext(mt)},ft=function(e){var t=e.title,n=e.fields,i=e.formTitle,a=Et().rootElements,r=a.body||a.heading?"six":"unset";return l.createElement(l.Fragment,null,t&&l.createElement(E.l,{padding:{blockstart:r,blockend:"three"}},l.createElement("div",null,l.createElement(N.y,{tag:"h3",size:5},t))),i&&l.createElement("span",{className:"is-visually-hidden"},i),l.createElement(E.l,{padding:{blockstart:t?"unset":"six"}},l.createElement(v.UitkLayoutFlex,{space:"four",wrap:"wrap"},n.map((function(e,t){var n=st[e.__typename];return l.createElement(v.UitkLayoutFlexItem,{key:t,grow:2,minWidth:"twenty_four"},l.createElement("div",null,l.createElement(n,{data:e})))})))))};ft.displayName="MadMarqueeFormSection";var pt=function(e){var t=e.data,n=e.formTitle,i=t||{},a=i.title,r=i.fields;return r&&r.length?l.createElement(ft,{title:a,fields:r,formTitle:n}):null},gt=(0,r.Ps)(oe()),yt=function(e){var t,n,i,r,o,c,u,d=e.formTitle,s=e.formSections,m=e.formMessages,v=e.placementId,p=e.successFormAnalytics,g=e.errorFormAnalytics,y=me(),b=null===(t=s[0])||void 0===t||null===(n=t.fields)||void 0===n?void 0:n.find((function(e){return"NotificationSubmitButton"===e.__typename})),k=null==b||null===(i=b.actions)||void 0===i?void 0:i.find((function(e){return"NotificationAnalytics"===e.__typename})),h=(null==k?void 0:k.schema)?null==b?void 0:b.actions:p,L=ne((0,D.D)(gt),2),x=L[0],A=L[1],_=A.loading,I=A.error,T=A.data,C=l.useContext(nt),S=C.state,N=C.dispatch,w=function(e,t){N({field:e,value:t})},R=function(){N({field:"hasInvalidFields",value:!1}),w("phoneNumberErrMsg","")},O=[],F=[];null==g||g.forEach((function(e){"NotificationAnalytics"===e.__typename&&("Invalid Phone Number omtr event"===e.description?null==F||F.push(e):"Unsuccessful text message omtr event"===e.description&&(null==O||O.push(e)))}));var P=function(e,t){null==m||m.forEach((function(n){"FORM"===n.displayType&&n.level===e&&n.name===t&&(0,z.liveAnnounce)(n.text,z.Level.POLITE)}))};l.useEffect((function(){var e,t,n,l,i,a;_||I||"SUCCESS"!==(null==T||null===(e=T.sendTextToDownloadApp)||void 0===e?void 0:e.messageType)||((0,z.liveAnnounce)(null==T||null===(a=T.sendTextToDownloadApp)||void 0===a?void 0:a.messageBody,z.Level.POLITE),S.hasInvalidFields&&R(),y(h));(!_&&"SERVICE_ERROR"===(null==T||null===(t=T.sendTextToDownloadApp)||void 0===t?void 0:t.messageType)&&!T.sendTextToDownloadApp.invalidFields||I)&&(P("ERROR","service_error_msg"),S.hasInvalidFields&&R(),y((null==k?void 0:k.schema)?null==b?void 0:b.actions:O)),_||I||S.hasInvalidFields||"SERVICE_ERROR"!==(null==T||null===(n=T.sendTextToDownloadApp)||void 0===n?void 0:n.messageType)||!(null==T||null===(l=T.sendTextToDownloadApp)||void 0===l||null===(i=l.invalidFields)||void 0===i?void 0:i[0])||(N({field:"hasInvalidFields",value:!0}),w(T.sendTextToDownloadApp.invalidFields[0],T.sendTextToDownloadApp.messageBody),F.length>0?y(F):y((null==k?void 0:k.schema)?null==b?void 0:b.actions:O))}));var U=(0,a.v)().context;return l.createElement("form",{onSubmit:function(e){m&&P("INFO","info_msg"),e.preventDefault(),R(),x({variables:{context:U,placementId:v,customerInput:{inputs:[{value:S.phoneNumber,type:"phoneNumber"},{value:S.countryCode,type:"countryCode"}]}}})}},l.createElement(E.l,{padding:{blockend:"three"}},l.createElement("div",null,s.map((function(e,t){return l.createElement(pt,{data:e,key:t,formTitle:d})})))),!_&&!I&&"SUCCESS"===(null==T||null===(r=T.sendTextToDownloadApp)||void 0===r?void 0:r.messageType)&&!S.hasInvalidFields&&l.createElement(E.l,{padding:{blockend:"three"}},l.createElement(f.b,{size:300,theme:"positive"},T.sendTextToDownloadApp.messageBody)),!_&&!I&&"SERVICE_ERROR"===(null==T||null===(o=T.sendTextToDownloadApp)||void 0===o?void 0:o.messageType)&&!S.hasInvalidFields&&!(null==T||null===(c=T.sendTextToDownloadApp)||void 0===c?void 0:c.invalidFields)&&l.createElement(E.l,{padding:{blockend:"three"}},l.createElement(f.b,{size:300,theme:"negative"},T.sendTextToDownloadApp.messageBody)),I&&(null==m||null===(u=m[0])||void 0===u?void 0:u.text)&&l.createElement(E.l,{padding:{blockend:"three"}},l.createElement(f.b,{size:300,theme:"negative"},m[0].text)),_&&l.createElement(M.y,{isSmall:!0}),d&&l.createElement(f.b,{size:200,"aria-hidden":!0},d))};yt.displayName="MadMarqueeForm";var bt=function(e){var t,n,i,a=e.formTitle,r=e.formSections,o=e.formMessages,c=e.placementId,u=e.successFormAnalytics,d=e.errorFormAnalytics,s=null===(i=(null===(t=r[0])||void 0===t||null===(n=t.fields)||void 0===n?void 0:n.find((function(e){return"NotificationSelectionField"===e.__typename}))).options)||void 0===i?void 0:i.find((function(e){return!0===e.selected}));return l.createElement(it,{defaultSelectedOptionVal:(null==s?void 0:s.value)||""},l.createElement(yt,{formTitle:a,formSections:r,formMessages:o,placementId:c,successFormAnalytics:u,errorFormAnalytics:d}))};bt.displayName="MadMarqueeFormWrapper";var kt=function(e){var t,n,i=e.body,a=e.isMobile,r=Et().rootElements,o=r.formSections,c=r.qrCode,u=r.qrCodeTitle,d=!o&&c&&u,s=a?{padding:{blockstart:"one",blockend:"two"}}:{padding:{blockstart:"two",inlineend:"four"}};return l.createElement(l.Fragment,null,d&&l.createElement(E.l,{padding:{blockstart:"six",inlineend:"four",blockend:"six"}},l.createElement(B.Y,{spacing:!1},i.map((function(e,t){var n,i=null===(n=e.items)||void 0===n?void 0:n[0];return l.createElement(f.b,{key:t,weight:"IMPORTANT"===i.styles[0]?"bold":"regular",size:"IMPORTANT"===i.styles[0]?500:400},null==i?void 0:i.text)})))),i.length>1&&!d&&l.createElement(E.l,{padding:{blockstart:"three",inlineend:"four"}},l.createElement(B.Y,{spacing:!1},i.map((function(e,t){var n,i;return l.createElement(V.m,{key:t},null===(n=e.items)||void 0===n||null===(i=n[0])||void 0===i?void 0:i.text)})))),1===i.length&&l.createElement(E.l,{padding:s.padding},l.createElement(f.b,{className:"uitk-type-paragraph-300"},null===(t=i[0].items)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.text)))};kt.displayName="MadMarqueeSubSection";var ht=function(e){var t,n,i=e.backgroundImageUrl,a=e.backgroundImageDescription,r=e.heading,o=e.body,c=e.subBody,u=e.formTitle,s=e.formSections,p=e.formMessages,L=e.successFormAnalytics,x=e.errorFormAnalytics,A=e.qrCodeUrl,_=e.qrCodeDesc,I=e.qrCodeTitle,T=e.tuneLink,w=e.secondLink,R=e.revealActions,O=e.referer,F=e.legalText,P=me();l.useEffect((function(){P(R)}),[]);var U=function(){P(T.actions)},D=function(){P(null==w?void 0:w.actions)},M="RIGHT_FULLBLEED_ONE_HALF"===a,z=ut(T.type),B=4,V="app_72",Y=!1,G=!1;A&&_&&(V="app_71",B=3,i||r||o||(B=5,Y=!0),o&&!s&&I&&(B=5,Y=!0,G=!0));var j=Ee(null===(t=T.uri)||void 0===t?void 0:t.value,O),q=Ee(null==w||null===(n=w.uri)||void 0===n?void 0:n.value,O),H=function(){return l.createElement(z,{id:"download-btn",name:"download-btn",href:j,onClick:U,size:d.xY.LARGE,isFullWidth:!0},T.text)},W=function(){return l.createElement(h.M,{noWrap:!0,inline:!0,onClick:D},l.createElement("a",{"aria-label":null==w?void 0:w.text,href:q,target:"_blank",rel:"noopener noreferrer"},null==w?void 0:w.text))},K=function(){var e;return l.createElement(l.Fragment,null,null==F||null===(e=F.items)||void 0===e?void 0:e.map((function(e,t){return"NotificationPhraseLinkNode"===(null==e?void 0:e.__typename)&&(null==e?void 0:e.uri)&&e.uri.value?l.createElement(E.l,{padding:{blockstart:"four"}},l.createElement("div",null,l.createElement(h.M,{inline:!0},l.createElement("a",{href:e.uri.value,key:"text-element-".concat(t),target:"_blank",rel:"noopener noreferrer"},e.text)))):l.createElement(E.l,{padding:{blockstart:"four"}},l.createElement("div",null,l.createElement(f.b,{size:300}," ",e.text," ")))})))},Q=function(){if(c&&0===c[0].title.egdsItems.length)return null;var e=null==c?void 0:c[0].title.egdsItems[0],t=e&&"text"in e&&e.text,n=e&&"weight"in e&&e.weight||void 0;return t&&n?l.createElement(l.Fragment,null,l.createElement(E.l,{padding:{blockstart:"twelve",inlineend:"four",blockend:"two"}},l.createElement(f.b,{weight:n&&De[n],size:400},t))):null};return l.createElement(g.Viewport,null,l.createElement(g.ViewLarge,null,l.createElement(C.t,{border:!0},l.createElement(b.a,{columns:3},l.createElement(l.Fragment,null,i&&!M&&l.createElement(k.P,{colSpan:1},l.createElement(m.N,{ratio:m.s.R16_9},l.createElement(y.p,{placeholderImage:!0,src:i,alt:a}))),l.createElement(k.P,{colSpan:i?2:3},l.createElement(S.U,{padded:!1},l.createElement(E.l,{padding:"six"},l.createElement(b.a,{columns:Y?6:4,space:"six"},l.createElement(k.P,{alignSelf:G?"center":"start",colSpan:B},l.createElement("div",{role:"region","aria-labelledby":"marquee-title"},r&&l.createElement(N.y,{tag:"h2",size:3,id:"marquee-title"},r),o&&l.createElement(kt,{body:o}),c&&l.createElement(Q,null),w&&l.createElement(b.a,{space:"six",columns:6},l.createElement(k.P,{colSpan:3},l.createElement(E.l,{padding:{blockstart:"six"}},l.createElement("div",null,l.createElement(H,null)))),l.createElement(k.P,{alignSelf:"center",colSpan:3},l.createElement(E.l,{padding:{blockstart:"six"}},l.createElement("div",null,l.createElement(W,null))))),s&&l.createElement(bt,{formTitle:u,formSections:s,formMessages:p,successFormAnalytics:L,errorFormAnalytics:x,placementId:V}),l.createElement(K,null))),A&&_&&l.createElement(k.P,{colSpan:1},l.createElement("div",null,I&&l.createElement("div",{role:"definition","aria-labelledby":"qrCodeTitle"},l.createElement("input",{type:"hidden",id:"qrCodeTitle","aria-label":I})),l.createElement(E.l,{padding:{inlinestart:"four"}},l.createElement("div",null,l.createElement(m.N,{ratio:m.s.R1_1},l.createElement(y.p,{src:A,alt:_})))),I&&l.createElement(E.l,{padding:{inlinestart:"four"}},l.createElement(N.y,{tag:"h3",align:"center",size:7,"aria-hidden":"true"},I)))))))),i&&M&&l.createElement(k.P,{colSpan:1},l.createElement(m.N,{ratio:m.s.R16_9},l.createElement(y.p,{placeholderImage:!0,src:i,alt:a}))))))),l.createElement(g.ViewMedium,null,l.createElement(C.t,{border:!0},l.createElement(b.a,{columns:3},l.createElement(l.Fragment,null,i&&l.createElement(k.P,{colSpan:1},l.createElement(m.N,{ratio:m.s.R16_9},l.createElement(y.p,{placeholderImage:!0,src:i,alt:a}))),l.createElement(k.P,{colSpan:i?2:3},l.createElement(S.U,{padded:!1},l.createElement(E.l,{padding:"six"},l.createElement("div",{role:"region","aria-labelledby":"marquee-title"},l.createElement(N.y,{tag:"h2",size:3,id:"marquee-title"},r),o&&l.createElement(kt,{body:o}),l.createElement(b.a,{space:"six",columns:w?6:3},l.createElement(k.P,{colSpan:Y?6:1},l.createElement(E.l,{padding:{blockstart:Y?"unset":"six"}},l.createElement("div",null,l.createElement(H,null)))),w&&l.createElement(k.P,{alignSelf:"center",colSpan:1},l.createElement(E.l,{padding:{blockstart:"six"}},l.createElement("div",null,l.createElement(W,null))))),l.createElement(K,null))))))))),l.createElement(g.ViewSmall,null,l.createElement(C.t,{border:!0},i&&l.createElement(m.N,{className:"all-image-fit-cover",ratio:m.s.R21_9},l.createElement(y.p,{placeholderImage:!0,src:i,alt:a})),l.createElement(S.U,{padded:!1},l.createElement(E.l,{padding:"six"},l.createElement(b.a,{columns:4},l.createElement(k.P,{colSpan:4},l.createElement("div",{role:"region","aria-labelledby":"marquee-title"},l.createElement(N.y,{tag:"h2",size:5,id:"marquee-title"},r),o&&l.createElement(kt,{body:o,isMobile:!0}),l.createElement(E.l,{padding:{blockstart:Y?"unset":"four"}},l.createElement(v.UitkLayoutFlex,{space:"four",direction:"column",alignItems:"center"},l.createElement(l.Fragment,null,l.createElement(v.UitkLayoutFlexItem,null,l.createElement(H,null)),w&&l.createElement(v.UitkLayoutFlexItem,null,l.createElement(E.l,{padding:{blockstart:"four"}},l.createElement("div",null,l.createElement(W,null)))),l.createElement(K,null))))))))))))};ht.displayName="MadMarquee";var Lt=function(e){var t=e.checked,n=e.checkedLabel,i=e.toggleEnabledAnnounceMsg,a=e.uncheckedLabel,r=e.toggleDisabledAnnounceMsg,c=e.logoUrl,u=e.logoDescription,d=e.revealActions,s=e.checkedAnalytics,m=e.uncheckedAnalytics,f=e.switchHandler,p=e.backgroundTheme,g=me(),y=(0,o.useClickTracker)();l.useEffect((function(){g(d)}),[]);var b=ne(l.useState(t),2),k=b[0],h=b[1],L=l.useCallback((function(){s&&!k&&(y(s.referrerId,s.linkName),i&&setTimeout((function(){return(0,z.liveAnnounce)(i,z.Level.POLITE)}),500)),m&&k&&(y(m.referrerId,m.linkName),r&&setTimeout((function(){return(0,z.liveAnnounce)(r,z.Level.POLITE)}),500)),h(!k),f(!k)}),[s,m,k,f]);return l.createElement(C.t,{backgroundTheme:Be(null!=p?p:"PRIMARY")},l.createElement(E.l,{padding:{inlinestart:"four"}},l.createElement(v.UitkLayoutFlex,{direction:"row",alignItems:"center",blockSize:"full_size",justifyContent:"space-between"},l.createElement(v.UitkLayoutFlexItem,{alignSelf:"center"},l.createElement("section",null,l.createElement(E.l,{padding:{block:"two"}},l.createElement(v.UitkLayoutFlex,{direction:"row",alignItems:"start",justifyContent:"space-between"},c&&u&&l.createElement(v.UitkLayoutFlexItem,{grow:0,shrink:1},l.createElement(R.FV,{url:c,description:u,size:R.MF[7]})),n&&a&&l.createElement(v.UitkLayoutFlexItem,{alignSelf:"center",grow:1,shrink:1},l.createElement(v.UitkLayoutFlex,{direction:"column",alignItems:"center",blockSize:"full_size",justifyContent:"space-between"},l.createElement(E.l,{padding:{inline:"four"}},l.createElement(Y.n,{id:"SwitchLabelTrailing",switchPosition:"trailing",checked:k,onChange:L,label:k?n:a,labelClassName:"uitk-type-400 uitk-type-medium"})))))))))))};Lt.displayName="OneKeyBanner";var xt=l.memo($e),At="cust-notif-onetrust-script",_t=function(e,t){var n;if(e)return null===(n=e.find((function(e){return e.name&&e.name===t})))||void 0===n?void 0:n.value},It=function(e,t,n){fetch(t,{method:"POST"}).then((function(e){if(!e.ok)throw new Error("OT_OIP_REQUEST_FAILED");window.location.reload()})).catch((function(e){n(e)}))},Tt=function(e){var t,n,i,a,r,o,c=e.onetrustAttributes,u=(0,G.wL)().error,d=ne(l.useState(!1),2),s=d[0],m=d[1];c&&(t=null==c||null===(a=c[0])||void 0===a?void 0:a.value,n=null==c||null===(r=c[1])||void 0===r?void 0:r.value,i=null==c||null===(o=c[6])||void 0===o?void 0:o.value);var v=_t(c,"OneTrustUserId"),E=_t(c,"OneTrustUserIdEncoded"),f=v&&E&&"-1"!==v&&"null"!==E;return l.useEffect((function(){s||(m(!0),!document.getElementById(At)&&t&&n&&!window.OneTrust?(f&&(window.OneTrust={dataSubjectParams:{id:v,isAnonymous:!1,token:E}}),window.OptanonWrapper=function(){var e;(null===window||void 0===window||null===(e=window.OneTrust)||void 0===e?void 0:e.OnConsentChanged)?window.OneTrust.OnConsentChanged((function(){!function(e,t){try{var n=null==e?void 0:e[2].value,l=_t(e,"canSellCookieValue"),i=null==e?void 0:e[3].value,a=null==e?void 0:e[4].value,r=null==e?void 0:e[5].value.split("|"),o=window.OnetrustActiveGroups?window.OnetrustActiveGroups.split(",").filter((function(e){return e.length>0})):[],c=r.every((function(e){return o.includes(e)}));"gdpr|-1"===n||"null"===n&&"null"===l?It(0,c?i:a,t):"gdpr|0"!==n&&"ccpa|0"!==l||!c?"gdpr|1"!==n&&"ccpa|1"!==l||c||It(0,a,t):It(0,i,t)}catch(u){t("OT_OIP_REQUEST_FAILED",u)}}(c,u)})):u("ERROR_LOAD_OT_NOT_DEFINED_ON_INIT")},i&&document.head.appendChild(function(e){var t=document.createElement("script");return t.src=e,t.id=At,t.type="text/javascript",t.setAttribute("data-document-language","true"),t}(i)),document.head.appendChild(function(e,t){var n=window.location.hostname.includes("karmalab")||window.location.hostname.includes("localhost")?"-test":"",l=document.createElement("script");return l.src=e,l.id=At,l.setAttribute("data-domain-script","".concat(t).concat(n)),l.type="text/javascript",l.setAttribute("data-document-language","true"),l.setAttribute("charset","UTF-8"),l}(t,n))):u("ERROR_LOADING_OT_MISSING_PARAMS"))}),[s,u,t,n,c,i,f,v,E]),null},Ct="cust-notif-osano-script";function St(){if(null===window||void 0===window?void 0:window.Osano)return window.Osano}var Nt=function(e,t,n){e?fetch(t,{method:"POST"}).then((function(e){if(!e.ok||!e.redirected)throw new Error("OIP_REQUEST_FAILED");window.location.reload()})).catch((function(e){n("OSANO_OPT_IN_REQUEST_FAILED",e)})):e||fetch(t,{method:"POST"}).then((function(e){if(!e.ok||!e.redirected)throw new Error("OIP_REQUEST_FAILED");window.location.reload()})).catch((function(e){n("OSANO_OPT_OUT_REQUEST_FAILED",e)}))},wt=function(e){var t,n,i,a=e.osanoAttributes,r=(0,G.wL)().error,o=ne(l.useState(),2),c=o[0],u=o[1],d=ne(l.useState(!1),2),s=d[0],m=d[1],v=ne((0,j.gw)(),2)[1],E=null==a||null===(t=a[0])||void 0===t?void 0:t.value,f=null==a||null===(n=a[1])||void 0===n?void 0:n.value,p=(null==a||null===(i=a[2])||void 0===i?void 0:i.name)||"",g=function(e,t){var n;if(e)return null===(n=e.find((function(e){return e.name&&e.name===t})))||void 0===n?void 0:n.value}(a,"templateOverride"),y=function(){v({type:"osanoInitialized"})},b=function(){var e,t,n=St();n?(n.cm.locale=f,e=p,(t=document.querySelector(".osano-cm-link"))&&(t.innerHTML=e),function(e,t,n){var l=function(e){if(e)try{var l=null==t?void 0:t[3].value,i=null==t?void 0:t[4].value,a=null==t?void 0:t[5].value,r=(null==t?void 0:t[6].value.split("|")).every((function(t){return"ACCEPT"===e[t]}));"gdpr|-1"===l?r?Nt(!0,i,n):Nt(!1,a,n):"gdpr|0"===l&&r?Nt(!0,i,n):"gdpr|1"!==l||r||Nt(!1,a,n)}catch(o){n("OSANO_CM_SAVED_EVENT_FAILED",o)}};e.addEventListener("osano-cm-initialized",(function(e){return l(e)})),e.addEventListener("osano-cm-consent-saved",(function(e){return l(e)}))}(n.cm,a,r)):r("NO_VALID_OSANO_SCRIPT_FOUND")};return l.useEffect((function(){if(!c&&!document.getElementById(Ct))if(!s&&E&&f&&!St())document.head.appendChild(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"three",l=arguments.length>3?arguments[3]:void 0,i=document.createElement("script");return i.src="".concat(e,"?language=").concat(t,"&variant=").concat(n),i.id=Ct,i.onload=l,i}(E,f,g,b)),document.head.appendChild(((t=document.createElement("style")).innerHTML=".osano-cm-widget{display: none;}",t)),m(!0);else{var e=St();e&&(u(e),y())}var t}),[s,r,a,y,c,E,f,p,g,b]),null},Rt=function(e){var t,n,i,a=e.type,r=e.notificationLocation,o=e.title,m=e.revealActions,g=e.logo,y=e.bannerLink,b=e.dismiss,k=e.referer,L=e.legalText,x=ne(l.useState(!0),2),_=x[0],I=x[1],T=me(),C=(0,p.x)().cache;l.useEffect((function(){T(m)}),[]);if(!_)return null;var S=Ee(null==y||null===(t=y.uri)||void 0===t?void 0:t.value,k);return l.createElement(q.R,null,l.createElement(E.l,{padding:"six"},l.createElement(A.K,{canvasTheme:"brand_promo_primary",layout:"fullwidth"},l.createElement(v.UitkLayoutFlex,{direction:"column",blockSize:"full_size",justifyContent:"space-between"},l.createElement(v.UitkLayoutFlexItem,{alignSelf:"end"},l.createElement(c.n,{onClick:function(){I(!1),T(b.actions),pe(C,a,r)},"aria-label":"close"},l.createElement(s.fR,{name:"close"}))),l.createElement(v.UitkLayoutFlexItem,{alignSelf:"center"},l.createElement("img",{alt:g.description,src:g.url,width:"64",height:"64"})),l.createElement(v.UitkLayoutFlexItem,null,l.createElement(E.l,{margin:{blockstart:"six"}},null==o||null===(n=o.items)||void 0===n?void 0:n.map((function(e,t){var n=e.text;return l.createElement(f.b,{key:"text-element-".concat(t),theme:"inverse",align:"center",size:700,weight:"medium"},n)})))),(null==y?void 0:y.uri)&&l.createElement(v.UitkLayoutFlexItem,{alignSelf:"center"},l.createElement(E.l,{margin:{blockstart:"six",blockend:"three"}},l.createElement(u.Y,{inverse:!0,href:S,size:d.xY.LARGE,onClick:function(){T(null==y?void 0:y.actions)}},y.text))),null==L||null===(i=L.items)||void 0===i?void 0:i.map((function(e,t){return"NotificationPhraseLinkNode"===(null==e?void 0:e.__typename)&&(null==e?void 0:e.uri)&&e.uri.value&&l.createElement(h.M,{align:"center",inline:!0},l.createElement("a",{href:e.uri.value,key:"text-element-".concat(t),target:"_blank",rel:"noopener noreferrer"},l.createElement(f.b,{key:"text-element-".concat(t),theme:"inverse"},e.text)))}))))))};Rt.displayName="TakeoverBanner";var Ot=function(e){var t=e.heading,n=e.message,i=e.icon,a=e.links,r=e.revealActions,o=e.queryInputs,c=e.actionCallback,u=me(),d=ne(l.useState(!0),2),m=d[0],p=d[1],g=ne((0,I.useDialog)("multi-advisory-dialog"),3),y=g[0],b=g[1],k=g[2],L={query:{type:"TRAVEL_ADVISORY_HIDE"},callback:function(){return p(!1)}};if((0,H.useSignalSubscriber)([L]),l.useEffect((function(){u(r)}),[]),!m)return null;var x=function(e){return function(t){var n;u(e.actions),null==c||c({id:e.id,notificationType:"TRAVEL_ADVISORY",notificationLocation:o.notificationLocation,notificationLinkType:e.type}),(null===(n=e.uri)||void 0===n?void 0:n.value)||"open_multi_advisory_popup"===e.id?"open_multi_advisory_popup"===e.id&&b.openDialog():(t.preventDefault(),t.stopPropagation(),p(!1))}},A=null==a?void 0:a.map((function(e,t){return l.createElement(V.m,{key:t},l.createElement(h.M,{onClick:x(e),inline:!0},e.uri?l.createElement("a",{href:e.uri.value,target:"_blank",rel:"noopener noreferrer"},e.text):l.createElement("button",{type:"button"},e.text)))}));return l.createElement(l.Fragment,null,y&&l.createElement(k,null,l.createElement(Ht,{inputs:ee(J({},o),{notificationLocation:"POPUP"}),actionCallback:function(e){"close_multi_advisory_popup"!==e.id&&"notification-not-found-error"!==e.id&&"notification-validation-error"!==e.id&&"notification-network-error"!==e.id||b.closeDialog(),null==c||c(e)}})),l.createElement(W.j,null,l.createElement(E.l,{padding:{block:"one"}},l.createElement(v.UitkLayoutFlex,{alignItems:"center",space:"two"},i&&l.createElement(v.UitkLayoutFlexItem,null,l.createElement(E.l,{margin:{inlinestart:"four",inlineend:"six"}},l.createElement(s.fR,{name:i.iconName,description:i.iconDescription,title:i.iconTitle}))),l.createElement(v.UitkLayoutFlexItem,null,l.createElement("div",null,l.createElement(N.y,{tag:"h4"},t.heading),l.createElement(f.b,null,n),l.createElement(B.Y,{bullet:"no-bullet",orientation:"inline"},A)))))))};Ot.displayName="TravelAdvisory";var Ft=function(e){var t,n,i=e.data,a=e.inputs,r=e.actionCallback,o=i||{},c=o.title,u=o.body,d=o.links,s=o.revealActions,m=o.icon,v=null==c||null===(t=c.items)||void 0===t?void 0:t[0].text,E=null==c?void 0:c.accessibilityLabel,f=null==u||null===(n=u[0])||void 0===n?void 0:n.items[0].text,p=null==d?void 0:d.slice(0,2),g=null==m?void 0:m.id,y=(null==m?void 0:m.description)||"",b=(null==m?void 0:m.title)||"";return f?(g||(g="warning"),l.createElement(Ot,{heading:{heading:v,accessibilityHeading:E},message:f,icon:{iconName:g,iconDescription:y,iconTitle:b},links:p,revealActions:s,queryInputs:a,actionCallback:r})):null},Pt=function(e){var t,n=e.index,i=e.separator,a=e.heading,r=e.message,o=e.possibleLink,c=e.actionCallback,u=me();return l.createElement(l.Fragment,{key:n},""!==a&&l.createElement(N.y,{tag:"h3",size:6},l.createElement("span",{"data-stid":"customer-notification__travel-advisory-dialog-messages-heading-".concat(n)},a)),l.createElement("p",{"data-stid":"customer-notification__travel-advisory-dialog-messages-message-".concat(n)},r),o&&"NotificationPhraseLinkNode"===o.__typename&&o.uri&&o.uri.value&&l.createElement(h.M,{onClick:(t=o,function(){u(t.actions),null==c||c({id:t.id,notificationType:"TRAVEL_ADVISORY",notificationLocation:"POPUP",notificationLinkType:t.type})})},l.createElement("a",{href:o.uri.value,target:"_blank",rel:"noopener noreferrer","data-stid":"customer-notification__travel-advisory-dialog-messages-link-".concat(n)},o.text,o.icon&&l.createElement("span",{className:"is-visually-hidden"},o.icon.description))),i&&l.createElement("hr",null))};Pt.displayName="TravelAdvisoryDialogItem";var Ut=function(e){var t=e.heading,n=e.body,i=e.dismiss,a=e.revealActions,r=e.actionCallback,o=l.useRef(null),c=me();l.useEffect((function(){c(a)}),[]);return l.createElement(L.K,{type:"full",isVisible:!0,triggerRef:o,returnFocusOnClose:!0},l.createElement(T.bW,{navigationContent:{onClick:function(){c(i.actions),null==r||r({id:"close_multi_advisory_popup",notificationType:"TRAVEL_ADVISORY",notificationLocation:"POPUP",notificationLinkType:"BUTTON"})},navIconLabel:i.icon.description,navType:"close"}}),l.createElement(x.z,null,t&&l.createElement(N.y,{tag:"h2",size:3},t),l.createElement(E.l,{margin:{blockstart:"twelve"}},l.createElement("div",{"data-stid":"customer-notification__travel-advisory-dialog-messages"},n.map((function(e,t){return l.createElement(Pt,{key:t,index:t,separator:t<n.length-1,heading:e.items[0].text,message:e.items[1].text,possibleLink:e.items[2],actionCallback:r})}))))))};Ut.displayName="TravelAdvisoryDialog";var Dt=function(e){var t,n,i,a=e.graphicElement,r=e.markSize,c=e.title,u=e.body,d=e.links,m=e.layout,p=c.egdsItems[0],g="text"in p&&p.text,y="theme"in p&&p.theme||void 0,b="weight"in p&&p.weight||void 0,L=null==u||null===(t=u[0])||void 0===t?void 0:t.egdsItems[0],x=L&&"text"in L&&L.text,A=L&&"theme"in L&&L.theme||void 0,_=L&&"weight"in L&&L.weight||void 0,I=(0,o.useClickTracker)(),T=l.createElement(l.Fragment,null,g&&l.createElement(f.b,{align:"left",size:400,spacing:"two",theme:y&&Me[y],weight:b&&De[b]},g),x&&l.createElement(f.b,{align:"left",size:300,spacing:"two",theme:A&&Me[A],weight:_&&De[_]},x)),S=null==d?void 0:d.map((function(e,t){var n=e.actions,i=null==n?void 0:n[0],a=i&&"referrerId"in i&&i.referrerId||"",r=i&&"description"in i&&i.description||"";return l.createElement(v.UitkLayoutFlexItem,{key:t,alignSelf:"start"},e.uri&&l.createElement(h.M,{onClick:function(){n&&I(a,r)}},l.createElement("a",{href:e.uri.value,target:"_blank",rel:"noreferrer"},e.text)))})),N=l.createElement(l.Fragment,null,"Mark"===(null==a?void 0:a.__typename)&&l.createElement(R.FV,{name:a.id,url:null===(n=a.url)||void 0===n?void 0:n.value,description:a.description,size:null!=r?r:12}),"Icon"===(null==a?void 0:a.__typename)&&l.createElement(s.fR,{id:Math.random().toString(),description:a.description,name:a.id,size:a.size?s.eZ[a.size]:s.eZ.MEDIUM,theme:null!==(i=a.theme)&&void 0!==i?i:void 0,spotlight:a.withBackground?"positive":void 0}));return l.createElement("li",null,l.createElement(k.P,null,l.createElement(C.t,{padded:!0},l.createElement(v.UitkLayoutFlex,{alignItems:"center",space:"two"},l.createElement(v.UitkLayoutFlexItem,null,N),"ICON_ON_SIDE"===m&&l.createElement(v.UitkLayoutFlexItem,{alignSelf:"center"},l.createElement("div",null,T,d&&l.createElement(E.l,{padding:{blockstart:"two"}},l.createElement(v.UitkLayoutFlex,{alignItems:"center"},S))))),"ICON_ON_TOP"===m&&l.createElement(l.Fragment,null,T,S))))};Dt.displayName="TrustMessage";var Mt,zt=function(e){var t=e.data||{},n=t.title,i=t.subBody;if(!i&&!n)return null;var a=null==n?void 0:n.egdsItems[0],r=a&&"weight"in a&&a.weight,o=a&&"theme"in a&&a.theme,c=null==i?void 0:i.length,u=null==i?void 0:i.map((function(e,t){var n="graphicElement"in e?e.graphicElement:null,i=n&&"markSize"in n&&n.markSize||R.jN.LARGE;return l.createElement(Dt,{key:t,title:e.title,graphicElement:n,markSize:i,body:"body"in e?e.body:null,links:"links"in e?e.links:null,layout:"layout"in e?e.layout:null})})),d=(null==n?void 0:n.completeText)&&l.createElement(f.b,{weight:r?De[r]:void 0,size:700,theme:o?Me[o]:void 0},a&&"text"in a&&a.text);return l.createElement(l.Fragment,null,l.createElement(g.Viewport,null,l.createElement(g.ViewSmall,null,l.createElement(N.y,{size:3},d)),l.createElement(g.ViewMedium,null,l.createElement(N.y,{size:4},d))),i&&l.createElement(g.Viewport,null,l.createElement(g.ViewSmall,null,l.createElement(E.l,{margin:{blockstart:"four"}},l.createElement(b.a,{columns:1,space:"four",tag:"ul"},u))),l.createElement(g.ViewMedium,null,l.createElement(E.l,{margin:{blockstart:"four"}},l.createElement(b.a,{columns:2,space:"four",tag:"ul"},u))),l.createElement(g.ViewLarge,null,l.createElement(E.l,{margin:{blockstart:"four"}},l.createElement(b.a,{columns:c,space:"four",tag:"ul"},u)))))};zt.displayName="TrustMessageWrapper";var Bt=(Z(Mt={},"PRE_HEADER|HEADER",(function(e){var t=e||{},n=t.data,i=n.type,a=n.notificationLocation,r=n.title,o=n.logo,c=n.dismiss,u=n.revealActions,d=n.containerLink,s=n.body,m=t.inputs.optionalContext;return o&&c?l.createElement(et,{type:i,notificationLocation:a,title:r,logo:o,containerLink:d,revealActions:u,dismiss:c,referrer:null==m?void 0:m.referer,body:s}):null})),Z(Mt,"PRE_HEADER|CONFIGURABLE",Xe),Z(Mt,"IN_PAGE|CONFIGURABLE",Xe),Z(Mt,"PRE_HEADER|APP_HERO",(function(e){var t,n=e||{},i=n.data,a=i.title,r=i.logo,o=i.links,c=i.dismiss,u=i.revealActions,d=n.inputs.optionalContext;return a&&r&&c?(null==o||o.forEach((function(e){"APP_DOWNLOAD_LINK"===e.type?t=e:e})),l.createElement(fe,{title:a,logo:r,tuneLink:t,revealActions:u,dismiss:c,referer:null==d?void 0:d.referer})):null})),Z(Mt,"PRE_HEADER|TAKEOVER",(function(e){var t,n=e||{},i=n.data,a=i.type,r=i.notificationLocation,o=i.title,c=i.logo,u=i.links,d=i.dismiss,s=i.revealActions,m=i.legalText,v=n.inputs.optionalContext;return o&&c&&d?(null==u||u.forEach((function(e){"APP_DOWNLOAD_LINK"===e.type&&(t=e)})),l.createElement(Rt,{type:a,notificationLocation:r,title:o,logo:c,bannerLink:t,revealActions:s,dismiss:d,referer:null==v?void 0:v.referer,legalText:m})):null})),Z(Mt,"LEGAL|ONETRUST",(function(e){var t,n=(e.data||{}).attributes;return(null==n||null===(t=n[0])||void 0===t?void 0:t.value)?l.createElement(Tt,{onetrustAttributes:null==n?void 0:n.map((function(e){return{name:e.name,value:e.value}}))}):null})),Z(Mt,"LEGAL|OSANO",(function(e){var t,n=(e.data||{}).attributes;return(null==n||null===(t=n[0])||void 0===t?void 0:t.value)?l.createElement(wt,{osanoAttributes:null==n?void 0:n.map((function(e){return{name:e.name,value:e.value}}))}):null})),Z(Mt,"AFTER_HEADER|TRAVEL_ADVISORY",Ft),Z(Mt,"FOOTER|MAD_MARQUEE",(function(e){var t,n,i,a=e.data,r=e.inputs.optionalContext,o=a||{},c=o.legalText,u=o.title,d=o.body,s=o.subBody,m=o.logo,v=o.links,E=o.revealActions,f=o.backgroundImage,p=o.form,g=o.customQrCode;if(!m||!(null==v?void 0:v.length))return null;var y=(null===(t=null==u?void 0:u.items[0])||void 0===t?void 0:t.text)||"";return l.createElement(vt,{data:a},l.createElement(ht,{body:d||null,subBody:s||null,heading:y,logoUrl:m.url,backgroundImageUrl:null==f?void 0:f.url,backgroundImageDescription:null==f?void 0:f.description,formTitle:(null==p?void 0:p.title)||null,formSections:(null==p?void 0:p.sections)||null,formMessages:(null==p?void 0:p.feedbackMessages)||null,successFormAnalytics:(null==p?void 0:p.successFormAnalytics)||null,errorFormAnalytics:(null==p?void 0:p.errorFormAnalytics)||null,qrCodeUrl:null==g||null===(n=g.image)||void 0===n?void 0:n.url,qrCodeDesc:null==g||null===(i=g.image)||void 0===i?void 0:i.description,qrCodeTitle:null==g?void 0:g.title,tuneLink:v[0],secondLink:v[1],legalText:c,revealActions:E,referer:null==r?void 0:r.referer}))})),Z(Mt,"IN_PAGE_AD|CITI_COBRAND",Re),Z(Mt,"IN_PAGE_AD|CITI_COBRAND_VERTICAL",Re),Z(Mt,"POPUP|TRAVEL_ADVISORY",(function(e){var t=e.data,n=e.actionCallback,i=t||{},a=i.title,r=i.body,o=i.dismiss,c=i.revealActions;return r&&o?l.createElement(Ut,{heading:null==a?void 0:a.items[0].text,body:r,dismiss:o,revealActions:c,actionCallback:n}):(null==n||n({id:"notification-validation-error",notificationLocation:"POPUP",notificationType:"TRAVEL_ADVISORY"}),null)})),Z(Mt,"POPUP|CENTERED_SHEET",(function(e){var t,n=e||{},i=n.data,a=i.notificationLocation,r=i.legalText,o=i.title,c=i.body,u=i.logo,d=i.links,s=i.revealActions,m=i.customQrCode,v=i.dismiss,E=n.inputs.optionalContext,f=null==r||null===(t=r.items)||void 0===t?void 0:t.find((function(e){return"NotificationPhraseLinkNode"===e.__typename})),p=(null==f?void 0:f.uri)&&f.uri.value?f:void 0,g=l.useMemo((function(){var e,t;return{type:"CENTERED_SHEET",notificationLocation:a,body:c,title:o,logo:u,dismiss:v,qrCodeUrl:null==m||null===(e=m.image)||void 0===e?void 0:e.url,qrCodeDesc:null==m||null===(t=m.image)||void 0===t?void 0:t.description,qrCodeTitle:null==m?void 0:m.title,bannerLink:null==d?void 0:d[0],revealActions:s,referer:null==E?void 0:E.referer,termsAndConditions:p}}),[]);return u&&d&&(null==d?void 0:d.length)&&d[0]&&v?l.createElement(Le,J({},g)):null})),Z(Mt,"POPUP|BOTTOM_SHEET",(function(e){var t,n=e||{},i=n.data,a=i.notificationLocation,r=i.legalText,o=i.title,c=i.body,u=i.logo,d=i.links,s=i.revealActions,m=i.customQrCode,v=i.dismiss,E=n.inputs.optionalContext,f=null==r||null===(t=r.items)||void 0===t?void 0:t.find((function(e){return"NotificationPhraseLinkNode"===e.__typename})),p=(null==f?void 0:f.uri)&&f.uri.value?f:void 0,g=l.useMemo((function(){var e,t;return{type:"BOTTOM_SHEET",notificationLocation:a,body:c,title:o,logo:u,dismiss:v,qrCodeUrl:null==m||null===(e=m.image)||void 0===e?void 0:e.url,qrCodeDesc:null==m||null===(t=m.image)||void 0===t?void 0:t.description,qrCodeTitle:null==m?void 0:m.title,bannerLink:null==d?void 0:d[0],revealActions:s,referer:null==E?void 0:E.referer,termsAndConditions:p}}),[]);return u&&v?l.createElement(ke,J({},g)):null})),Z(Mt,"AFTER_WIZARD|GENERIC",(function(e){var t,n,i=e.data||{},a=i.title,r=i.body,o=i.links,c=i.revealActions;return l.createElement(Je,{heading:null==a||null===(t=a.items)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.text,body:r,links:o,revealActions:c})})),Z(Mt,"AFTER_WIZARD|CLEANLINESS",(function(e){var t,n,i,a,r=e.data||{},o=r.title,c=r.body;if(!c||!o)return null;var u=null===(t=o.items)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.text,d=null===(i=o.items)||void 0===i||null===(a=i[1])||void 0===a?void 0:a.text,s=function(e){var t=[];return e.forEach((function(e){var n,l,i,a,r,o,c,u={title:null==e||null===(n=e.items)||void 0===n||null===(l=n[0])||void 0===l?void 0:l.text,iconName:null==e||null===(i=e.items)||void 0===i||null===(a=i[0])||void 0===a||null===(r=a.icon)||void 0===r?void 0:r.id,subtitle:null==e||null===(o=e.items)||void 0===o||null===(c=o[1])||void 0===c?void 0:c.text};t.push(u)})),t}(c);return l.createElement(Fe,{title:u,subtitle:d,messages:s})})),Z(Mt,"AFTER_WIZARD|TRAVEL_ADVISORY",Ft),Z(Mt,"IN_PAGE|TRUST_MSG_BANNER",zt),Z(Mt,"IN_PAGE|ONE_KEY",(function(e){var t=e.data,n=e.switchHandler,i=e.useRewards,a=e.inputs,r=t||{},o=r.type,c=r.notificationLocation,u=r.title,d=r.logo,s=r.dismiss,m=r.revealActions,v=r.links,E=r.containerLink,f=r.body,p=r.subBody,g=r.icon,y=r.customQrCode,b=r.theme,k=t.switch,h=!!k,L=!0===(null==k?void 0:k.checked)&&!0===i,x="NotificationCardTheme"===(null==b?void 0:b.__typename)?null==b?void 0:b.themeValue:null,A=l.useMemo((function(){var e;return{type:o,notificationLocation:c,title:u,revealActions:m,logo:d,links:v,containerLink:E,dismiss:s,referer:null===(e=a.optionalContext)||void 0===e?void 0:e.referer,body:f,subBody:p,icon:g,qrCode:y,backgroundTheme:x}}),[]);return l.createElement(l.Fragment,null,h?l.createElement(Lt,{checked:L,checkedLabel:null==k?void 0:k.checkedLabel,toggleEnabledAnnounceMsg:null==k?void 0:k.checkedAccessibilityLabel,uncheckedLabel:null==k?void 0:k.uncheckedLabel,toggleDisabledAnnounceMsg:null==k?void 0:k.uncheckedAccessibilityLabel,logoUrl:null==d?void 0:d.url,logoDescription:null==d?void 0:d.description,revealActions:m,checkedAnalytics:null==k?void 0:k.checkedAnalytics,uncheckedAnalytics:null==k?void 0:k.uncheckedAnalytics,switchHandler:n||function(e){return e},backgroundTheme:x}):l.createElement(xt,J({},A)))})),Mt),Vt=function(){var e=function(e){var t=e.blockendPadding,n=e.children;return l.createElement(C.t,{backgroundTheme:"global-loyalty-standard",padded:!0},l.createElement(E.l,{margin:{block:"three"},stid:"customer-notifications-placeholder"},l.createElement("div",null,l.createElement(E.l,null,l.createElement("div",null,l.createElement(K.H,null))),l.createElement(E.l,{padding:{blockstart:"three",blockend:t}},l.createElement("div",null,l.createElement(K.H,{type:"secondary"}))),n)))};return l.createElement(l.Fragment,null,l.createElement(g.Viewport,null,l.createElement(g.ViewSmall,null,l.createElement(e,{blockendPadding:"sixteen"},l.createElement(E.l,{padding:{blockstart:"three",blockend:"six"}},l.createElement("div",null)))),l.createElement(g.ViewMedium,null,l.createElement(e,{blockendPadding:"twelve"})),l.createElement(g.ViewLarge,null,l.createElement(e,{blockendPadding:"one"}))))},Yt=function(e){var t=e.notificationLocation,n=e.notificationType,i=e.children,a=ne((0,j.gw)(),2)[1];return l.useEffect((function(){a({type:"customerNotificationInitialized",payload:{location:t,type:n}})}),[a,t,n]),l.createElement(l.Fragment,null,i)},Gt=function(e){if("string"==typeof e){var t=e.split("-").map((function(e){return e.trim()}));return{day:+t[2],month:+t[1],year:+t[0]}}return e},jt=function(e){if(e){e.referer;var t=te(e,["referer"]);return ee(J({},t),{journeyCriterias:(n=t.journeyCriterias,n?n.map((function(e){var t,n;return(null==e||null===(t=e.dateRange)||void 0===t?void 0:t.start)&&(null==e||null===(n=e.dateRange)||void 0===n?void 0:n.end)?ee(J({},e),{dateRange:{start:Gt(e.dateRange.start),end:Gt(e.dateRange.end)}}):J({},e.origin&&{origin:e.origin},e.destination&&{destination:e.destination},e.tripType&&{tripType:e.tripType},e.scheduleChangeStatus&&{scheduleChangeStatus:e.scheduleChangeStatus},e.scheduleChangeStatus&&{scheduleChangeStatus:e.scheduleChangeStatus},e.cabinClass&&{cabinClass:e.cabinClass},e.travelerDetail&&{travelerDetail:e.travelerDetail},e.filter&&{filter:e.filter})})):n)})}var n;return e},qt=(0,r.Ps)(ce()),Ht=function(e){var t,n=e.inputs,r=n.xPageId,o=n.notificationLocation,c=n.optionalContext,u=e.actionCallback,d=e.skipSsr,s=void 0!==d&&d,m=e.isLoadingUI,v=void 0!==m&&m,E=e.switchHandler,f=e.useRewards,p=(0,a.v)().context,g=function(e){var t=e.split(",").map((function(e){return e.trim()}));return{pageId:t[0],lineOfBusiness:Pe[t[1]]||"UNCLASSIFIED",pageLocation:Ue[t[2]]||"ENTRY"}}(r),y={context:p,notificationLocation:o,lineOfBusiness:g.lineOfBusiness,pageLocation:g.pageLocation,optionalPageId:g.pageId.length>0?g.pageId:null,optionalContext:jt(c)},b=(0,i.a)(qt,{variables:y,ssr:!s}),k=b.error,h=b.data,L=b.loading,x=null==h||null===(t=h.notification)||void 0===t?void 0:t.inlineNotification,A=null==x?void 0:x.type,_=null==x?void 0:x.revealActions,I=me();if(s&&v&&L)return l.createElement(Vt,null);if(k||!h||!x||!A)return k&&(null==u||u({id:"notification-network-error",notificationLocation:o,notificationType:"NONE"})),null;if("NONE"===A)return I(_),null==u||u({id:"notification-none-value",notificationLocation:o,notificationType:"NONE"}),null;var T,C=(T=A,Bt["".concat(o,"|").concat(T)]||null);return C?l.createElement(Yt,{notificationLocation:o,notificationType:A},l.createElement(C,{data:x,inputs:{xPageId:r,notificationLocation:o,optionalContext:c},actionCallback:u,switchHandler:E,useRewards:f})):(null==u||u({id:"notification-not-found-error",notificationLocation:o,notificationType:A}),null)};Ht.displayName="CustomerNotification";var Wt=function(e){var t=e.spacing,n=e.children;return l.createElement(E.l,J({},t),l.createElement("div",null,n))};Wt.displayName="CustomerNotificationStylingWrapper"}}]);
//# sourceMappingURL=shared-ui-customer-notifications.8d33b39eefa5f16a33ed.js.map