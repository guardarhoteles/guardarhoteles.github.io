(()=>{var e={20:e=>{"use strict";var t="%[a-f0-9]{2}",n=new RegExp("("+t+")|([^%]+?)","gi"),r=new RegExp("("+t+")+","gi");function o(e,t){try{return[decodeURIComponent(e.join(""))]}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],o(n),o(r))}function i(e){try{return decodeURIComponent(e)}catch(i){for(var t=e.match(n)||[],r=1;r<t.length;r++)t=(e=o(t,r).join("")).match(n)||[];return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=r.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var o=i(n[0]);o!==n[0]&&(t[n[0]]=o)}n=r.exec(e)}t["%C2"]="�";for(var s=Object.keys(t),a=0;a<s.length;a++){var u=s[a];e=e.replace(new RegExp(u,"g"),t[u])}return e}(e)}}},996:e=>{"use strict";var t=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)},n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,t){return!1!==t.clone&&t.isMergeableObject(e)?a((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function o(e,t,n){return e.concat(t).map((function(e){return r(e,n)}))}function i(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return Object.propertyIsEnumerable.call(e,t)})):[]}(e))}function s(e,t){try{return t in e}catch(e){return!1}}function a(e,n,u){(u=u||{}).arrayMerge=u.arrayMerge||o,u.isMergeableObject=u.isMergeableObject||t,u.cloneUnlessOtherwiseSpecified=r;var c=Array.isArray(n);return c===Array.isArray(e)?c?u.arrayMerge(e,n,u):function(e,t,n){var o={};return n.isMergeableObject(e)&&i(e).forEach((function(t){o[t]=r(e[t],n)})),i(t).forEach((function(i){(function(e,t){return s(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,i)||(s(e,i)&&n.isMergeableObject(t[i])?o[i]=function(e,t){if(!t.customMerge)return a;var n=t.customMerge(e);return"function"==typeof n?n:a}(i,n)(e[i],t[i],n):o[i]=r(t[i],n))})),o}(e,n,u):r(n,u)}a.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return a(e,n,t)}),{})};var u=a;e.exports=u},806:e=>{"use strict";e.exports=function(e,t){for(var n={},r=Object.keys(e),o=Array.isArray(t),i=0;i<r.length;i++){var s=r[i],a=e[s];(o?-1!==t.indexOf(s):t(s,a,e))&&(n[s]=a)}return n}},337:()=>{!function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var e=function(e){for(var t=window.document,n=o(t);n;)n=o(t=n.ownerDocument);return t}(),t=[],n=null,r=null;s.prototype.THROTTLE_TIMEOUT=100,s.prototype.POLL_INTERVAL=null,s.prototype.USE_MUTATION_OBSERVER=!0,s._setupCrossOriginUpdater=function(){return n||(n=function(e,n){r=e&&n?l(e,n):{top:0,bottom:0,left:0,right:0,width:0,height:0},t.forEach((function(e){e._checkForIntersections()}))}),n},s._resetCrossOriginUpdater=function(){n=null,r=null},s.prototype.observe=function(e){if(!this._observationTargets.some((function(t){return t.element==e}))){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(e.ownerDocument),this._checkForIntersections()}},s.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter((function(t){return t.element!=e})),this._unmonitorIntersections(e.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},s.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},s.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},s.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter((function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]}))},s.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map((function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}}));return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},s.prototype._monitorIntersections=function(t){var n=t.defaultView;if(n&&-1==this._monitoringDocuments.indexOf(t)){var r=this._checkForIntersections,i=null,s=null;this.POLL_INTERVAL?i=n.setInterval(r,this.POLL_INTERVAL):(a(n,"resize",r,!0),a(t,"scroll",r,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in n&&(s=new n.MutationObserver(r)).observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(t),this._monitoringUnsubscribes.push((function(){var e=t.defaultView;e&&(i&&e.clearInterval(i),u(e,"resize",r,!0)),u(t,"scroll",r,!0),s&&s.disconnect()}));var c=this.root&&(this.root.ownerDocument||this.root)||e;if(t!=c){var d=o(t);d&&this._monitorIntersections(d.ownerDocument)}}},s.prototype._unmonitorIntersections=function(t){var n=this._monitoringDocuments.indexOf(t);if(-1!=n){var r=this.root&&(this.root.ownerDocument||this.root)||e,i=this._observationTargets.some((function(e){var n=e.element.ownerDocument;if(n==t)return!0;for(;n&&n!=r;){var i=o(n);if((n=i&&i.ownerDocument)==t)return!0}return!1}));if(!i){var s=this._monitoringUnsubscribes[n];if(this._monitoringDocuments.splice(n,1),this._monitoringUnsubscribes.splice(n,1),s(),t!=r){var a=o(t);a&&this._unmonitorIntersections(a.ownerDocument)}}}},s.prototype._unmonitorAllIntersections=function(){var e=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var t=0;t<e.length;t++)e[t]()},s.prototype._checkForIntersections=function(){if(this.root||!n||r){var e=this._rootIsInDom(),t=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(r){var o=r.element,s=c(o),a=this._rootContainsTarget(o),u=r.entry,d=e&&a&&this._computeTargetAndRootIntersection(o,s,t),l=null;this._rootContainsTarget(o)?n&&!this.root||(l=t):l={top:0,bottom:0,left:0,right:0,width:0,height:0};var p=r.entry=new i({time:window.performance&&performance.now&&performance.now(),target:o,boundingClientRect:s,rootBounds:l,intersectionRect:d});u?e&&a?this._hasCrossedThreshold(u,p)&&this._queuedEntries.push(p):u&&u.isIntersecting&&this._queuedEntries.push(p):this._queuedEntries.push(p)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},s.prototype._computeTargetAndRootIntersection=function(t,o,i){if("none"!=window.getComputedStyle(t).display){for(var s,a,u,d,p,g,f,h,w=o,v=m(t),y=!1;!y&&v;){var E=null,F=1==v.nodeType?window.getComputedStyle(v):{};if("none"==F.display)return null;if(v==this.root||9==v.nodeType)if(y=!0,v==this.root||v==e)n&&!this.root?!r||0==r.width&&0==r.height?(v=null,E=null,w=null):E=r:E=i;else{var b=m(v),_=b&&c(b),I=b&&this._computeTargetAndRootIntersection(b,_,i);_&&I?(v=b,E=l(_,I)):(v=null,w=null)}else{var O=v.ownerDocument;v!=O.body&&v!=O.documentElement&&"visible"!=F.overflow&&(E=c(v))}if(E&&(s=E,a=w,void 0,void 0,void 0,void 0,void 0,void 0,u=Math.max(s.top,a.top),d=Math.min(s.bottom,a.bottom),p=Math.max(s.left,a.left),h=d-u,w=(f=(g=Math.min(s.right,a.right))-p)>=0&&h>=0&&{top:u,bottom:d,left:p,right:g,width:f,height:h}||null),!w)break;v=v&&m(v)}return w}},s.prototype._getRootRect=function(){var t;if(this.root&&!g(this.root))t=c(this.root);else{var n=g(this.root)?this.root:e,r=n.documentElement,o=n.body;t={top:0,left:0,right:r.clientWidth||o.clientWidth,width:r.clientWidth||o.clientWidth,bottom:r.clientHeight||o.clientHeight,height:r.clientHeight||o.clientHeight}}return this._expandRectByRootMargin(t)},s.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map((function(t,n){return"px"==t.unit?t.value:t.value*(n%2?e.width:e.height)/100})),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},s.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,r=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==r)for(var o=0;o<this.thresholds.length;o++){var i=this.thresholds[o];if(i==n||i==r||i<n!=i<r)return!0}},s.prototype._rootIsInDom=function(){return!this.root||p(e,this.root)},s.prototype._rootContainsTarget=function(t){var n=this.root&&(this.root.ownerDocument||this.root)||e;return p(n,t)&&(!this.root||n==t.ownerDocument)},s.prototype._registerInstance=function(){t.indexOf(this)<0&&t.push(this)},s.prototype._unregisterInstance=function(){var e=t.indexOf(this);-1!=e&&t.splice(e,1)},window.IntersectionObserver=s,window.IntersectionObserverEntry=i}function o(e){try{return e.defaultView&&e.defaultView.frameElement||null}catch(e){return null}}function i(e){this.time=e.time,this.target=e.target,this.rootBounds=d(e.rootBounds),this.boundingClientRect=d(e.boundingClientRect),this.intersectionRect=d(e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,r=this.intersectionRect,o=r.width*r.height;this.intersectionRatio=n?Number((o/n).toFixed(4)):this.isIntersecting?1:0}function s(e,t){var n,r,o,i=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(i.root&&1!=i.root.nodeType&&9!=i.root.nodeType)throw new Error("root must be a Document or Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),r=this.THROTTLE_TIMEOUT,o=null,function(){o||(o=setTimeout((function(){n(),o=null}),r))}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(i.rootMargin),this.thresholds=this._initThresholds(i.threshold),this.root=i.root||null,this.rootMargin=this._rootMarginValues.map((function(e){return e.value+e.unit})).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function a(e,t,n,r){"function"==typeof e.addEventListener?e.addEventListener(t,n,r||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function u(e,t,n,r){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,r||!1):"function"==typeof e.detachEvent&&e.detachEvent("on"+t,n)}function c(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function d(e){return!e||"x"in e?e:{top:e.top,y:e.top,bottom:e.bottom,left:e.left,x:e.left,right:e.right,width:e.width,height:e.height}}function l(e,t){var n=t.top-e.top,r=t.left-e.left;return{top:n,left:r,height:t.height,width:t.width,bottom:n+t.height,right:r+t.width}}function p(e,t){for(var n=t;n;){if(n==e)return!0;n=m(n)}return!1}function m(t){var n=t.parentNode;return 9==t.nodeType&&t!=e?o(t):(n&&n.assignedSlot&&(n=n.assignedSlot.parentNode),n&&11==n.nodeType&&n.host?n.host:n)}function g(e){return e&&9===e.nodeType}}()},296:(e,t,n)=>{var r=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt,u="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,c="object"==typeof self&&self&&self.Object===Object&&self,d=u||c||Function("return this")(),l=Object.prototype.toString,p=Math.max,m=Math.min,g=function(){return d.Date.now()};function f(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function h(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==l.call(e)}(e))return NaN;if(f(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=f(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=i.test(e);return n||s.test(e)?a(e.slice(2),n?2:8):o.test(e)?NaN:+e}e.exports=function(e,t,n){var r,o,i,s,a,u,c=0,d=!1,l=!1,w=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=r,i=o;return r=o=void 0,c=t,s=e.apply(i,n)}function y(e){var n=e-u;return void 0===u||n>=t||n<0||l&&e-c>=i}function E(){var e=g();if(y(e))return F(e);a=setTimeout(E,function(e){var n=t-(e-u);return l?m(n,i-(e-c)):n}(e))}function F(e){return a=void 0,w&&r?v(e):(r=o=void 0,s)}function b(){var e=g(),n=y(e);if(r=arguments,o=this,u=e,n){if(void 0===a)return function(e){return c=e,a=setTimeout(E,t),d?v(e):s}(u);if(l)return a=setTimeout(E,t),v(u)}return void 0===a&&(a=setTimeout(E,t)),s}return t=h(t)||0,f(n)&&(d=!!n.leading,i=(l="maxWait"in n)?p(h(n.maxWait)||0,t):i,w="trailing"in n?!!n.trailing:w),b.cancel=function(){void 0!==a&&clearTimeout(a),c=0,r=u=o=a=void 0},b.flush=function(){return void 0===a?s:F(g())},b}},146:e=>{var t,n,r=Function.prototype,o=Object.prototype,i=r.toString,s=o.hasOwnProperty,a=i.call(Object),u=o.toString,c=(t=Object.getPrototypeOf,n=Object,function(e){return t(n(e))});e.exports=function(e){if(!function(e){return!!e&&"object"==typeof e}(e)||"[object Object]"!=u.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e))return!1;var t=c(e);if(null===t)return!0;var n=s.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&i.call(n)==a}},96:(e,t,n)=>{var r="Expected a function",o=NaN,i="[object Symbol]",s=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt,l="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,p="object"==typeof self&&self&&self.Object===Object&&self,m=l||p||Function("return this")(),g=Object.prototype.toString,f=Math.max,h=Math.min,w=function(){return m.Date.now()};function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&g.call(e)==i}(e))return o;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var n=u.test(e);return n||c.test(e)?d(e.slice(2),n?2:8):a.test(e)?o:+e}e.exports=function(e,t,n){var o=!0,i=!0;if("function"!=typeof e)throw new TypeError(r);return v(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),function(e,t,n){var o,i,s,a,u,c,d=0,l=!1,p=!1,m=!0;if("function"!=typeof e)throw new TypeError(r);function g(t){var n=o,r=i;return o=i=void 0,d=t,a=e.apply(r,n)}function E(e){var n=e-c;return void 0===c||n>=t||n<0||p&&e-d>=s}function F(){var e=w();if(E(e))return b(e);u=setTimeout(F,function(e){var n=t-(e-c);return p?h(n,s-(e-d)):n}(e))}function b(e){return u=void 0,m&&o?g(e):(o=i=void 0,a)}function _(){var e=w(),n=E(e);if(o=arguments,i=this,c=e,n){if(void 0===u)return function(e){return d=e,u=setTimeout(F,t),l?g(e):a}(c);if(p)return u=setTimeout(F,t),g(c)}return void 0===u&&(u=setTimeout(F,t)),a}return t=y(t)||0,v(n)&&(l=!!n.leading,s=(p="maxWait"in n)?f(y(n.maxWait)||0,t):s,m="trailing"in n?!!n.trailing:m),_.cancel=function(){void 0!==u&&clearTimeout(u),d=0,o=c=i=u=void 0},_.flush=function(){return void 0===u?a:b(w())},_}(e,t,{leading:o,maxWait:t,trailing:i})}},720:(e,t,n)=>{n.g,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t),n.d(t,"createEventQueue",(function(){return i})),n.d(t,"QueuedEventHandler",(function(){return o})),n.d(t,"createPrioritizedEventQueue",(function(){return a})),n.d(t,"PrioritizedQueuedEventHandler",(function(){return s}));class r{constructor(){this.isLogger=!0,this._logs={error:[],warn:[],info:[]},this.info=this.info.bind(this),this.error=this.error.bind(this),this.warn=this.warn.bind(this)}info(e){this._logs.info.push(e)}error(e){this._logs.error.push(e)}warn(e){this._logs.warn.push(e)}get logs(){return this._logs}}class o{constructor(e,t=[]){if(!Array.isArray(t))throw new Error("Meso event queue requires an array.");this._callback=e,this._executedEvents=[],this._unExecutedEvents=t,this.isEventQueue=!0,this.logger=new r}push(...e){this._executedEvents.push(...e),this._callback(...e)}executeQueue(e=this._unExecutedEvents.length){for(;this._unExecutedEvents.length>0&&e>0;)this.push(this._unExecutedEvents.shift()),e-=1}history(){console.table(this._executedEvents)}get executedEvents(){return this._executedEvents}get unExecutedEvents(){return this._unExecutedEvents}}const i=(e,t=[],n={},r)=>{const i=new o(e,t);return void 0!==r&&(window.meso[r]=i),i.executeQueue(n.limit),n.observable&&(i.observe=(e,t,r)=>n.observable.observe(e,t,r)),i};class s extends o{constructor(e,t=[],n=[]){super(e,t),this._priorityOrder=n,this._invalidEvents=this._unExecutedEvents.filter((e=>!this._isValidEvent(e))),this._unExecutedEvents=this._unExecutedEvents.filter((e=>this._isValidEvent(e))),this._sortEvents()}executeQueue(e=this._unExecutedEvents.length){const t=[];this._priorityOrder.forEach((n=>{let r=e;const o=this._unExecutedEvents.filter((e=>e.type===n));for(;o.length>0&&r>0;)this.push(o.pop()),r-=1;t.concat(o)})),this._unExecutedEvents=t}_isValidEvent(e){return"object"==typeof e&&null!==e&&void 0!==e.type&&-1!==this._priorityOrder.indexOf(e.type)}_sortEvents(){this._unExecutedEvents.sort(((e,t)=>{const n=this._priorityOrder.indexOf(e.type),r=this._priorityOrder.indexOf(t.type);return-1===n||-1===r?0:n-r}))}get invalidEvents(){return this._invalidEvents}}const a=(e,t=[],n=[],r={})=>{const o=new s(e,t,n);return o.executeQueue(r.limit),r.observable&&(o.observe=(e,t,n)=>r.observable.observe(e,t,n)),o}}])},563:(e,t,n)=>{"use strict";const r=n(610),o=n(20),i=n(500),s=n(806),a=Symbol("encodeFragmentIdentifier");function u(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function c(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function d(e,t){return t.decode?o(e):e}function l(e){return Array.isArray(e)?e.sort():"object"==typeof e?l(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function p(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function m(e){const t=(e=p(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function g(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function f(e,t){u((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const n=function(e){let t;switch(e.arrayFormat){case"index":return(e,n,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return(e,n,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"colon-list-separator":return(e,n,r)=>{t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return(t,n,r)=>{const o="string"==typeof n&&n.includes(e.arrayFormatSeparator),i="string"==typeof n&&!o&&d(n,e).includes(e.arrayFormatSeparator);n=i?d(n,e):n;const s=o||i?n.split(e.arrayFormatSeparator).map((t=>d(t,e))):null===n?n:d(n,e);r[t]=s};case"bracket-separator":return(t,n,r)=>{const o=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!o)return void(r[t]=n?d(n,e):n);const i=null===n?[]:n.split(e.arrayFormatSeparator).map((t=>d(t,e)));void 0!==r[t]?r[t]=[].concat(r[t],i):r[t]=i};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),r=Object.create(null);if("string"!=typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(const o of e.split("&")){if(""===o)continue;let[e,s]=i(t.decode?o.replace(/\+/g," "):o,"=");s=void 0===s?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?s:d(s,t),n(d(e,t),s,r)}for(const e of Object.keys(r)){const n=r[e];if("object"==typeof n&&null!==n)for(const e of Object.keys(n))n[e]=g(n[e],t);else r[e]=g(n,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce(((e,t)=>{const n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=l(n):e[t]=n,e}),Object.create(null))}t.extract=m,t.parse=f,t.stringify=(e,t)=>{if(!e)return"";u((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const n=n=>t.skipNull&&null==e[n]||t.skipEmptyString&&""===e[n],r=function(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const o=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[c(t,e),"[",o,"]"].join("")]:[...n,[c(t,e),"[",c(o,e),"]=",c(r,e)].join("")]};case"bracket":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[c(t,e),"[]"].join("")]:[...n,[c(t,e),"[]=",c(r,e)].join("")];case"colon-list-separator":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[c(t,e),":list="].join("")]:[...n,[c(t,e),":list=",c(r,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t="bracket-separator"===e.arrayFormat?"[]=":"=";return n=>(r,o)=>void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?r:(o=null===o?"":o,0===r.length?[[c(n,e),t,c(o,e)].join("")]:[[r,c(o,e)].join(e.arrayFormatSeparator)])}default:return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,c(t,e)]:[...n,[c(t,e),"=",c(r,e)].join("")]}}(t),o={};for(const t of Object.keys(e))n(t)||(o[t]=e[t]);const i=Object.keys(o);return!1!==t.sort&&i.sort(t.sort),i.map((n=>{const o=e[n];return void 0===o?"":null===o?c(n,t):Array.isArray(o)?0===o.length&&"bracket-separator"===t.arrayFormat?c(n,t)+"[]":o.reduce(r(n),[]).join("&"):c(n,t)+"="+c(o,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[n,r]=i(e,"#");return Object.assign({url:n.split("?")[0]||"",query:f(m(e),t)},t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:d(r,t)}:{})},t.stringifyUrl=(e,n)=>{n=Object.assign({encode:!0,strict:!0,[a]:!0},n);const r=p(e.url).split("?")[0]||"",o=t.extract(e.url),i=t.parse(o,{sort:!1}),s=Object.assign(i,e.query);let u=t.stringify(s,n);u&&(u=`?${u}`);let d=function(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url);return e.fragmentIdentifier&&(d=`#${n[a]?c(e.fragmentIdentifier,n):e.fragmentIdentifier}`),`${r}${u}${d}`},t.pick=(e,n,r)=>{r=Object.assign({parseFragmentIdentifier:!0,[a]:!1},r);const{url:o,query:i,fragmentIdentifier:u}=t.parseUrl(e,r);return t.stringifyUrl({url:o,query:s(i,n),fragmentIdentifier:u},r)},t.exclude=(e,n,r)=>{const o=Array.isArray(n)?e=>!n.includes(e):(e,t)=>!n(e,t);return t.pick(e,o,r)}},500:e=>{"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},610:e=>{"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},448:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const r="https://ads-delivery-service.us-west-2.test.meso.expedia.com",o={toolkit:`${r}/api/v1/toolkit`,resourceEndpoint:`${r}/api/v1/resource`,webComponentAssetsBaseUrl:"https://meso-assets-test.s3.amazonaws.com/meso-loaders/webcomponentsjs/",fetchTimeout:5e3,meso:{storage:{targeting:"com.expedia.meso.targeting"}},targetingService:"https://targeting-service.rcp.us-west-2.sponsoredcontent.test.exp-aws.net/v3/adinfo",experiments:{throttle:200,abacus:{endpoint:"/api/bucketing/v1"}},logging:{collector:"https://meso-event-collector.rcp.sponsoredcontent.test.exp-aws.net/events",performance:{endpoint:"https://collector.test.expedia.com/creativePerformance.json?batch=true"},error:{endpoint:"https://collector.test.expedia.com/creativePerformance.json?batch=true"},autoCallout:6e4,maxLogsInQueue:50,platform:"Web"},ppid:{poll:{timeout:5e3,interval:500}},travelPixel:{endpointProtocol:"https://",endpointPath:"/trvl-px/v2/ppid"}}},194:()=>{},553:()=>{},71:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const r="https://www.uciservice.com/ds",o={environmentName:"Production",toolkit:`${r}/api/v1/toolkit`,resourceEndpoint:`${r}/api/v1/resource`,webComponentAssetsBaseUrl:"https://www.uciservice.com/assets/meso-loaders/webcomponentsjs/",uciservice:"https://www.uciservice.com",targetingService:"/targeting-service/v3/adinfo",logging:{collector:"https://www.expedia.com/sponsoredcontent/events",performance:{endpoint:"https://www.expedia.com/cl/data/creativePerformance.json?batch=true"},error:{endpoint:"https://www.expedia.com/cl/data/creativePerformance.json?batch=true"},autoCallout:6e4,maxLogsInQueue:50}}},758:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(996),o=n.n(r),i=n(448),s=n(71);let a;n(553),n(194),a=s.Z;const u=o()(i.Z,a)},866:(e,t,n)=>{"use strict";n.d(t,{S:()=>Ce});var r=n(758),o=n(668),i=n(624),s=n(258);const a=(0,o.Z)("webcomponents-loader");const u=JSON.parse('{"bernie":[{"name":"small","range":[0,575]},{"name":"medium","range":[576,991]},{"name":"large","range":[992,1199]},{"name":"xlarge","range":[1200,100000]}],"expweb":[{"name":"small","range":[0,490]},{"name":"medium","range":[491,1259]},{"name":"large","range":[1260,100000]}],"hotwire":[{"name":"small","range":[0,575]},{"name":"medium","range":[576,991]},{"name":"large","range":[992,1199]},{"name":"xlarge","range":[1200,100000]}],"vrbo":[{"name":"xsmall","range":[0,320]},{"name":"small","range":[321,500]},{"name":"medium","range":[501,1313]},{"name":"large","range":[1314,1555]},{"name":"xlarge","range":[1556,100000]}],"flex":[{"name":"small","range":[0,521]},{"name":"medium","range":[522,1019]},{"name":"large","range":[1020,100000]}],"hcom":[{"name":"small","range":[0,575]},{"name":"medium","range":[576,767]},{"name":"large","range":[768,1200]},{"name":"xlarge","range":[1201,100000]}]}');var c=n(720);window.meso=window.meso||{},window.meso.adcontext=window.meso.adcontext||[],window.meso.breakpoints=window.meso.breakpoints||[];const d=(0,o.Z)("Breakpoint");window.meso=window.meso||{},window.meso.breakpoints=window.meso.breakpoints||[];const l=(0,o.Z)("PlatformBreakpoints");!function(){const e=new class{constructor(e={}){this._platforms=e,this._breakpoints=[]}_getPlatformConfig(e){if(Object.keys(this._platforms).includes(e)){const t=this._platforms[e];return window.meso.breakpoints.isEventQueue?window.meso.breakpoints.config=t:l.warn(s.M.BREAKPOINTS_ERROR,{description:`${this.constructor.name}: window.meso.breakpoints is not an event queue as expected`,methodName:"_getPlatformConfig"}),t}return null}setPlatform(e){const t=this._getPlatformConfig(e);null===t?l.warn(s.M.BREAKPOINTS_ERROR,{description:`${this.constructor.name}: platform not found in known breakpoint platforms`,requested:[e],known:Object.keys(this._platforms),methodName:"setPlatform"}):(this._removeBreakpoints(),this._addBreakpoints(t))}_addBreakpoints(e){e.forEach((e=>{const t=new class{constructor(e){this._mq=window.matchMedia(this._createMediaQuery(...e.range)),this._breakpoint=e.name,this._callback=this._mediaQueryCallback.bind(this)}_createMediaQuery(e,t){return`(min-width: ${e}px) and (max-width: ${t}px)`}_mediaQueryCallback(){this._mq.matches&&(window.meso.breakpoints.isEventQueue?(window.meso.breakpoints.current=this._breakpoint,window.meso.adcontext.push({breakpoint:this._breakpoint})):d.warn(s.M.BREAKPOINTS_ERROR,{description:`${this.constructor.name}: window.meso.breakpoints is not an event queue as expected`,methodName:"_mediaQueryCallback"}))}startListening(){this._mq.addListener(this._callback),this._callback()}stopListening(){this._mq.removeListener(this._callback)}}(e);t.startListening(),this._breakpoints.push(t)}))}_removeBreakpoints(){this._breakpoints=this._breakpoints.filter((e=>(e.stopListening(),!1)))}}(u);window&&(window.meso=window.meso||{},window.meso.breakpoints=window.meso.breakpoints||[],window.meso.breakpoints.isEventQueue||(0,c.createEventQueue)((t=>{"platform"===t.type&&e.setPlatform(t.platform)}),window.meso.breakpoints,{},"breakpoints"))}();var p=n(563);const m={canTrack:!1,canSell:!0};let g=Object.assign({},m);const f=()=>Object.assign({},g),h={reset:()=>{g=Object.assign({},m)},getPrivacy:f,getPrivacyByKey:e=>{const t=f();if(t.hasOwnProperty(e))return t[e];throw new Error(`${e} is not a recognized privacy key`)},setPrivacy:(e,t)=>{if(!g.hasOwnProperty(e))throw new Error(`${e} is not a recognized privacy key`);g[e]=t}};var w=n(96),v=n.n(w);const y=(0,o.Z)("parseOverrideExperiments"),E=()=>{try{const e={},t=i.Z.getCookie("meov");return(null===t?[]:t.split(",")).forEach((t=>{const n=t.split(".");e[n[0]]=n[1]})),e}catch(e){return{}}};class F{constructor(e,t){this._config=e,this._target=t,this._cache={},this._throttledInitializeExperiments=v()(this._initializeExperiments.bind(this),r.Z.experiments.throttle,{leading:!0,trailing:!0}),this._throttledUpdateExperiments=v()(this._updateExperiments.bind(this),r.Z.experiments.throttle,{leading:!0,trailing:!0}),window.addEventListener("mesoExperiments",(e=>{e&&e.detail&&"register"===e.detail.type&&this._throttledInitializeExperiments()}))}initialize(){this._initializeExperiments()}_initializeExperiments(){window.dispatchEvent(new CustomEvent("mesoExperiments",{detail:{type:"initialize",experiments:this._cache}}))}_updateExperiments(){window.dispatchEvent(new CustomEvent("mesoExperiments",{detail:{type:"update",experiments:this._cache}}))}_resolveIds(e=[]){const t=[];Object.keys(e).forEach((n=>{const r=this._config.filter((e=>e.id===n));if(r.length>0){const o=r.shift();t.push(o),e[o.name]=e[n],delete e[n]}})),t.length&&y.warn(s.M.EXPERIMENTS_INVALID,{description:`Experiment ID provided instead of Name: keyIdUpdated=${JSON.stringify(t)}, config=${JSON.stringify(this._config)}`,methodName:"_resolveIds",keyIdUpdated:t,config:this._config})}_removeUnconfigured(e={}){const t=this._config.map((e=>e.name)),n=[];Object.keys(e).forEach((r=>{t.includes(r)?n.push(r):delete e[r]})),t.length!==Object.keys(e).length&&y.warn(s.M.EXPERIMENTS_INVALID,{description:`Experiments are configured, but some were not found: keysConfigured=${JSON.stringify(t)}, keysResolved=${JSON.stringify(n)}, config=${JSON.stringify(this._config)}`,methodName:"_removeUnconfigured",keysConfigured:t,keysResolved:n,config:this._config})}_removeInvalidChildExperiments(e=[]){const t=[],n=this._config.filter((e=>void 0!==e.parent));if(Object.keys(e).forEach((r=>{const o=n.filter((e=>e.name===r));if(o.length>0){o.length>1&&y.warn(s.M.EXPERIMENTS_INVALID,{description:`Multiple entries found for key in config: key=${r}, config=${JSON.stringify(this._config)}`,methodName:"_removeInvalidChildExperiments",config:this._config});const n=e[o.shift().parent]||0;0!==n&&"0"!==n||(t.push(r),delete e[r])}})),n.length){const e=n.map((e=>e.name));y.info(s.M.EXPERIMENTS_INVALID,{description:`Remove child experiments whose parents evaluated to 0: childExperimentsFound=${JSON.stringify(e)}, childExperimentsRemoved=${JSON.stringify(t)}, config=${JSON.stringify(this._config)}`,methodName:"_removeInvalidChildExperiments",childExperimentsFound:e,childExperimentsRemoved:t,config:this._config})}}update(e){try{const t=E();this._resolveIds(e),this._removeUnconfigured(e),this._removeInvalidChildExperiments(e),this.validate(e)&&(this._cache=Object.assign(this._cache,e,t)),this._throttledUpdateExperiments()}catch(e){y.error(s.M.EXPERIMENTS_UPDATE_FAILED,e)}}control(){this._cache={};const e={};this._config.forEach((t=>{e[t.name]=0})),this.update(e)}clear(){this._cache={},this.update({})}get experiments(){return this._cache}get configuredExperimentNames(){return this._config.map((e=>e.name))}get configuredOverrideNames(){return Object.keys(E())}validate(e){return!!i.Z.isObject(e)&&Object.keys(e).every((t=>"number"==typeof e[t]||"string"==typeof e[t]))}}let b=null;var _=n(296),I=n.n(_);const O=(0,o.Z)("adinfo"),A=e=>"string"==typeof e,T=e=>"string"==typeof e&&e.length>0,N=e=>"number"==typeof e&&e>=0,k=Object.freeze({uuid:T,siteId:e=>T(e)||N(e),pageName:T,memberId:A,dest:T,origin:A,locResolver:e=>["gaia","tla","hcom","cruise"].some((t=>t===e)),dateStart:A,dateEnd:A,adults:N,kids:N,adProvider:A});const D=(0,o.Z)("adinfo");let x="0",P="";const R=`${r.Z.targetingService}`,C=(e={})=>{const t=i.Z.getCookie("eg_ppid"),n=Object.assign({siteId:x,pageName:P,uuid:i.Z.getCookie("DUAID")||"null",app:!1,source:"ads-loader-script",canTrack:h.getPrivacyByKey("canTrack")||!1,ppid:t||"",_:Date.now()},((r=e).hasOwnProperty("locResolver")&&"gaia"===r?.locResolver?.toString()?.toLowerCase()&&(r.hasOwnProperty("dest")&&isNaN(Number(r.dest))&&(D.warn(`Location resolver specified 'gaia' but destination is not GAIA regionId: ${r.dest}`),delete r.dest),r.hasOwnProperty("origin")&&isNaN(Number(r.origin))&&(D.warn(`Location resolver specified 'gaia' but origin is not GAIA regionId: ${r.origin}`),delete r.origin),r.hasOwnProperty("dest")||r.hasOwnProperty("origin")||(r.locResolver="gaia_no_loc")),r));var r;window.performance&&window.performance.mark&&window.performance.mark("AdInfoRequest");const o=p.stringify(n);return((e,t)=>i.Z.promiseFetch(`${e}?${t}`,{headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include",mode:"cors"}).then((n=>{if(D.perf("AdInfo Request",{mark:"AdInfoRequest",url:`${e}?${t}`}),n&&n.errors&&n.errors.length>0)throw new Error(`Could not retrieve targeting information from ${e}?${t}`);return n.json()})))(R,t?p.stringify({...n,ppid:t}):o)},S=e=>{if(!i.Z.isObject(e))throw new Error("First argument must be an object");return Object.assign({},e,{ads:"1"})};let j={},L={},M=null,U={},$=0,Z=0;const B=(0,o.Z)("targeting"),G=()=>{let e={};try{e=window&&window.localStorage&&window.localStorage.getItem(r.Z.meso.storage.targeting),e=(e=>{const t=e||{},n=new Set(["cmptst","CMPTST"]);return Object.keys(t).reduce(((t,r)=>(n.has(r)||(t[r]=e[r]),t)),{})})(JSON.parse(e))}catch(t){B.error(s.M.TARGETING_INVALID,t,{description:"Error reading targeting from local storage",methodName:"getLocalStorageTargetingData"}),e={}}return e},V=()=>Promise.all([Promise.resolve(j),Promise.resolve(G())]).then((e=>Object.assign({},...e))),q=e=>!0===e?"1":!1===e?"0":Array.isArray(e)?String(e.map((e=>q(e)))):String(e),W=e=>Object.keys(e).reduce(((t,n)=>(t[n]=q(e[n]),t)),{}),z=e=>{document.dispatchEvent(new CustomEvent("MesoTargeting",{detail:{type:"gpt_update",targeting:S(e),adinfoLastUpdated:$,targetingLastUpdated:Z}})),document.dispatchEvent(new CustomEvent("MesoTargeting",{detail:{type:"update",targeting:S(e),adinfoLastUpdated:$,targetingLastUpdated:Z}}))},Q=e=>{if(e.targeting=Object.assign({},e.adinfo,e.targeting),e.targeting=function(e={}){const t=(n=e,Object.entries(n).reduce(((e,[t,n])=>(k.hasOwnProperty(t)&&(k[t](n)?n?e[t]=n:O.warn(s.M.TARGETING_VALUE_EMPTY,{description:`No value for key=${t}`,methodName:"filterInvalidDataProps"}):O.error(s.M.TARGETING_INVALID,new Error("Invalid Targeting Data"),{description:`Invalid Parameter: key=${t} val=${n}`,methodName:"filterInvalidDataProps"})),e)),{}));var n;return function(e){e.hasOwnProperty("locResolver")?"gaia"!==e.locResolver&&O.info(s.M.NON_GAIA_LOCRESOLVER,{params:{locResolver:e.locResolver,dest:e.dest,origin:e.origin}}):(e.hasOwnProperty("dest")||e.hasOwnProperty("origin"))&&O.error(s.M.TARGETING_INVALID,new Error("Invalid Targeting Data"),{description:"Invalid Parameter: locResolver is required when dest or origin are provided.",methodName:"validateLocResolver"})}(t),t}(e.targeting),null===M||((e={})=>Object.keys(e).some((t=>e[t]!==U[t])))(e.targeting)){U=Object.assign({},U,e.targeting);const t=e.targeting||{};M=((e={})=>"true"!=`${h.getPrivacyByKey("canTrack")}`||i.Z.isSafeframe()?Promise.resolve({}):C(e).then((e=>($=Date.now(),e&&e.targeting||{}))).catch((t=>(B.error(s.M.TARGETING_FETCH_ERROR,t,{params:e,methodName:"fetchAdinfoTargeting"}),$=Date.now(),{}))))(Object.assign({},t))}else M=Promise.resolve({});const t=[V()];t.push(Promise.resolve(e.targeting||{}),M),Promise.all(t).then((e=>Object.assign({},...e))).then((e=>W(e))).then((e=>{(e=>{for(const t in e)if(e[t]!==j[t])return!0;return!1})(e)&&(Z=Date.now(),(e=>{var t;j=e,t=e,window.localStorage&&window.localStorage.setItem(r.Z.meso.storage.targeting,JSON.stringify(t))})(e),z(e))})).catch((e=>{B.error(s.M.TARGETING_UPDATE_ERROR,e,{methodName:"_updateAndDispatch"})}))},H=I()((()=>{Q(L),L={}}),0,{leading:!1,trailing:!0}),J=I()((()=>{Z>0&&window.dispatchEvent(new CustomEvent("MesoTargeting",{detail:{type:"ready",timestamp:Z}}))}),0,{leading:!1,trailing:!0}),K=(e={})=>{if(null!==e&&"object"==typeof e)switch(e.type){case"clear":j={},L={},M=null,U={},$=0,Z=0;break;case"register":(e=>{B.debug("Register event received in the targeting framework.",{requestingModule:e.target,methodName:"register"}),J()})(e);break;default:(e=>{L=Object.assign(L,e),H()})(e)}},X=(e="gam")=>{if("gam"!==e)throw Error("We currently only support 'gam' as the format.");return Object.assign({},j)},Y={initialize:e=>{window.meso=window.meso||{},window.meso.targeting=window.meso.targeting||[],window.meso.targeting.isEventQueue||(((e={})=>{x=`${e.params&&e.params.siteId||"0"}`,P=e.params&&e.params.pageId||""})(e),window.meso.targeting.forEach((e=>{null===e||"object"!=typeof e||e.type||(e.type="update"),"register"!==e.type||e.hasOwnProperty("target")||B.info(s.M.TARGETING_EVENT_INVALID,{currEvent:Object.assign({},e),description:"'target' key is absent from the targeting 'register' payload.",methodName:"formatTargetingEvents"}),"update"===e.type&&(e.hasOwnProperty("adinfo")&&B.warn(s.M.TARGETING_KEY_DEPRECATED,{currEvent:Object.assign({},e),description:"deprecated 'adinfo' key is present in the targeting payload.",methodName:"formatTargetingEvents"}),e.hasOwnProperty("targeting")||(B.warn(s.M.TARGETING_KEY_MISSING,{currEvent:Object.assign({},e),description:"'targeting' key is absent from the targeting payload.",methodName:"formatTargetingEvents"}),e.targeting={}))})),window.meso.targeting=(0,c.createPrioritizedEventQueue)(K,window.meso.targeting,["clear","register","update"],{}),window.meso.targeting.get=X,document.addEventListener("MesoTargeting",(e=>{"register"===(e&&e.detail&&e.detail.type)&&V().then((e=>{z(e)}))})),V().then((e=>{z(e)})))}};let ee={},te=[];window&&"function"==typeof window.addEventListener&&window.addEventListener("mesoExperiments",(e=>{e&&e.detail&&("initialize"!==e.detail.type&&"update"!==e.detail.type||e.detail.experiments&&(ee=Object.assign({},ee,e.detail.experiments),te=te.filter((e=>!e.checkExperiments(ee)))))})),window&&"function"==typeof window.dispatchEvent&&window.dispatchEvent(new CustomEvent("mesoExperiments",{detail:{type:"register"}}));const ne=class{constructor(e=[]){this._requested=Array.isArray(e)?e:[e],this._configured=this._buildExperimentConfig(),this._resolvable=this._resolvableExperiments(),this._TIMEOUT=500,this._completePromise=(()=>{const e={promise:null,resolve:null,reject:null,isResolved:!1};return e.promise=new Promise(((t,n)=>{e.resolve=n=>{e.isResolved=!0,t(n)},e.reject=n})),e})()}checkExperiments(e){const t=!(this._resolvable.length>0)||this._resolvable.every((t=>e.hasOwnProperty(t)));return t&&this._completePromise.resolve(this.getBuckets()),t}_resolvableExperiments(){const{resolvable:e}=this._requested.reduce(((e,t)=>(this._configured.includes(t)&&e.resolvable.push(t),e)),{resolvable:[]});return e}_buildExperimentConfig(){let e=window&&window.meso&&window.meso.experiments&&window.meso.experiments.configuredExperimentNames||[];Array.isArray(e)||(e=[]);let t=window&&window.meso&&window.meso.experiments&&window.meso.experiments.configuredOverrideNames||[];return Array.isArray(t)||(t=[]),[...e,...t]}getBuckets(){return this._requested.reduce(((e,t)=>(this._resolvable.includes(t)?e[t]=ee.hasOwnProperty(t)?ee[t]:null:e[t]=null,e)),{})}isExperimentConfigured(e){return this._configured.includes(e)}wait(){if(window&&window.meso&&void 0===window.meso.experiments)return Promise.resolve(this.getBuckets());const e=Promise.race([this._completePromise.promise,new Promise((e=>{setTimeout((()=>{e(this.getBuckets())}),this._TIMEOUT)}))]);var t;return(t=this).checkExperiments(ee)||te.push(t),e}get timeout(){return this._TIMEOUT}set timeout(e){this._TIMEOUT=e}},re=(0,o.Z)("ads-delivery-interface");let oe={};const ie=(e,t)=>{const n={code:"FETCH-ADS-FAIL",isTimeout:!1,src:"ads-delivery-interface.onFetchAdsFailure()",type:e,info:t};window.dispatchEvent&&window.dispatchEvent(new CustomEvent("mesoFallback",{detail:n}))},se=(e={})=>{const t=[],n=h.getPrivacyByKey("canTrack")||!1,r=i.Z.getCurrentBreakpoint();if(function(e){document.dispatchEvent(new CustomEvent("mesoAdFallbackEvent",{detail:{type:"gdpr",canTrack:e}}))}(n),!e||!e.script)return Promise.all(t);for(const o of e.script){const e=o.gdprCompliant||!1,s=n||e,a=null===r||!Array.isArray(o.breakpoints)||o.breakpoints.includes(r);if(o.src&&s&&a)if(o.variantsEnabled&&o.variantsEnabled.length){const e=o.variantsEnabled.map((e=>e.split(".")[0])),n=new ne(e).wait().then((e=>{if(o.variantsEnabled.some((t=>{const[n,r]=t.split(".");return e.hasOwnProperty(n)&&null!==e[n]&&parseInt(e[n],10)===parseInt(r,10)})))return i.Z.promiseScript(o.src,o)}));t.push(n)}else t.push(Promise.resolve(i.Z.promiseScript(o.src,o)));else ie("LoadResourcesSkipped",{src:o.src,canTrack:n,canDownload:s,passesBpCheck:a})}return Promise.all(t).then((e=>Promise.all(e.filter((e=>e)))))},ae=()=>{if(0===Object.keys(oe).length)return;const e=(()=>{let e;try{e=JSON.parse(JSON.stringify(oe))}catch(e){return oe}if(0===Object.keys(oe).length)return e;const t=i.Z.getCurrentBreakpoint();return null===t||e.config&&Object.keys(e.config).forEach((n=>{Array.isArray(e.config[n].conditions)&&e.config[n].conditions.forEach((r=>{const o=r.uci||r.slot;Array.isArray(r.breakpoints)&&!r.breakpoints.includes(t)&&e.content&&e.content[n]&&e.content[n][o]&&delete e.content[n][o]}))})),e})(),t=new CustomEvent("mesoRender",{detail:e});window.dispatchEvent(t)},ue=()=>{oe={}},ce={fetchAds:e=>{ue();const{pageId:t,siteId:n,locale:o,variant:a,brand:u}=e,d=e=>{se(e.resources||{}).then((e=>{let t=0;if(e.forEach((e=>{e.errInfo&&(re.error(s.M.RESOURCE_LOAD_FAIL,e.errInfo,e.errInfo),t+=1)})),t>0){const n=`Errors occurred loading resources (${t})`;re.warn(n,{adResourcesFailed:e.filter((e=>void 0!==e.errInfo)).map((e=>e.src)),adResourcesLoaded:e.filter((e=>void 0===e.errInfo)).map((e=>e.src)),methodName:"loadResources"})}else re.info("Resources loaded successfully",{adResourcesLoaded:e.map((e=>e.src)),methodName:"loadResources"});ae()}))},l=void 0===a?`${t}/${n}/${o}`:`${t}/${n}/${o}/${a}`,m={};void 0!==u&&(m.brand=u);const g=i.Z.getCookie("switchboard");null!==g&&(m.switchboard=g);const f=`${r.Z.toolkit}/${l}${i.Z.queryString(m)}`;window.performance&&window.performance.mark&&window.performance.mark("DisplayRequest"),i.Z.promiseFetch(f,{headers:{Accept:"application/json"},mode:"cors"}).then((e=>e.json())).then((e=>{re.perf("Display Request",{mark:"DisplayRequest",url:f}),oe=e,oe.timestamp=Date.now(),void 0===e.error&&Object.keys(e).length>1?(Y.initialize(e),(e=>{const{params:t,config:n,experiments:r}=e;if(!h.getPrivacyByKey("canTrack"))return;const o=e=>{switch(e.type){case"update":e.experiments&&b.update(e.experiments);break;case"clear":b.clear();break;case"override":void 0!==e.content&&"string"==typeof e.content&&i.Z.setCookie("meov",e.content);break;case"control":b.control()}},s=p.parse(i.Z.getLocationSearch());if(void 0!==s.meov&&i.Z.setCookie("meov",s.meov),n&&t){const e=((e,t)=>{const n=e.map((e=>e.name)),r=t.filter((e=>!n.includes(e.name)));return e.concat(r)})(Array.isArray(r)?r:[],n.EXPERIMENTS&&n.EXPERIMENTS.conditions||[]);if(b=new F(e,t),window.meso=window.meso||{},window.meso.experiments=window.meso.experiments||[],!window.meso.experiments.isEventQueue){const e=["clear","update","override","control"];window.meso.experiments=(0,c.createPrioritizedEventQueue)(o,window.meso.experiments,e,{})}window.meso.experiments.configuredExperimentNames=b.configuredExperimentNames,window.meso.experiments.configuredOverrideNames=b.configuredOverrideNames,b.initialize()}})(e),re.info("API call success",{url:f,methodName:"fetchAds"}),"complete"===i.Z.getReadyState()||"loaded"===i.Z.getReadyState()||"interactive"===i.Z.getReadyState()?d(e):window.addEventListener("readystatechange",(t=>{"interactive"===t.target.readyState&&d(e)}))):(ie("ErrorFetchingAdsConfiguration"),re.error(s.M.CONFIG_API_FETCH_ERROR,e.error,{url:f,methodName:"fetchAds"})),window.meso.adcontext.observe("ads-delivery-interface",(e=>e.includes("breakpoint")),(()=>d(e)))})).catch((e=>{ie("FetchAdsConfigurationRequestBlockedOrTimeout"),re.error(s.M.CONFIG_API_FETCH_ERROR,e,{url:f,methodName:"fetchAds"})}))},renderAds:ae,clearCache:ue,_loadResources:se};function de(e){(e||window.utag_data&&void 0!==window.utag_data.loggedUser&&null!==window.utag_data.loggedUser&&""!==window.utag_data.loggedUser&&("number"==typeof window.utag_data.loggedUser&&-1!==window.utag_data.loggedUser||"string"==typeof window.utag_data.loggedUser&&""!==window.utag_data.loggedUser.trim()&&"guest"!==window.utag_data.loggedUser.toLowerCase())||function(){const e=window.utag_data;return!!(e&&e.customerId&&parseInt(e.customerId,10)>0)}())&&function(){const e=document.querySelector("#audience-pixel");e&&e.remove();const t=1e13*Math.random(),n=document.createElement("img");n.src=`https://pubads.g.doubleclick.net/activity;dc_iu=/23171577/DFPAudiencePixel;ord="${t}";dc_seg=907193633?`,n.style="width:1px; height:1px; border:0; position: fixed; bottom: 0; left: 0",n.id="audience-pixel",document.body.appendChild(n)}()}const le=e=>{void 0===e.canSell||e.canSell||("complete"===document.readyState?de(e.isUserLoggedIn):window.addEventListener("load",(()=>{de(e.isUserLoggedIn)})))};var pe=n(523);let me=null;const ge={info:{},warn:{},error:{},trackEvent:{},trackAction:{}},fe=e=>{if(null!==me&&e&&e.type)switch(e.type){case"info":me.info(e.message||"",e.extra||void 0);break;case"warn":me.warn(e.message||"",e.extra||void 0);break;case"error":me.error(e.message||"",e.extra||void 0);break;case"track-event":me.trackEvent(e.name,e.vars,e.events);break;case"track-action":me.trackAction(e.name,e.vars,e.events);break;default:console.log(e.message)}},he=e=>{if((e=>{Object.keys(ge).forEach((t=>{e&&e[t]&&"function"==typeof e[t]||console.warn(`Missing ${t} method on passed logger interface.`)}))})(e),me=e,window.meso=window.meso||{},window.meso.logging=window.meso.logging||[],!window.meso.logging.isEventQueue){const e=i.Z.parseLogs(window.meso.logging);window.meso.logging=(0,c.createEventQueue)(((...e)=>t=>e.forEach((e=>e(t))))(fe,pe.Z),e)}};class we{constructor(e){this.watchers=new class{constructor(){this._count=0,this._events={}}add(e,t={}){if("function"!=typeof e)throw new Error("Targeting notify requires a function for a callback.");const n=this._count,r=()=>delete this._events[n];return this._events[n]=[e,t,r],this._count+=1,r}notify(...e){Object.keys(this._events).forEach((t=>{const[n,r,o]=this._events[t];n(...e),r.runOnce&&o()}))}get events(){return this._events}},this.requirement=e}requiresUpdate(e){return this.requirement(e)}notify(e){this.watchers.notify(e)}add(e,t={}){return this.requiresUpdate(Object.keys(t))&&e(t),this.watchers.add(e)}}const ve=class{constructor(e){this.obj=e||{},this.changelist=[],this._registeredObservers={}}diff(e){const t=[];for(const[n,r]of Object.entries(e))n in this.obj&&this.obj[n]===r||t.push(n);return t}update(e){const t=this.diff(e);if(t.length>0){Object.assign(this.obj,e);const n=JSON.stringify(this.obj);Object.values(this._registeredObservers).forEach((e=>{e.requiresUpdate(t)&&e.notify(JSON.parse(n))}))}}get value(){return this.obj}observe(e,t,n){return e in this._registeredObservers||(this._registeredObservers[e]=new we(t)),this._registeredObservers[e].add(n,this.obj)}},ye=new ve({}),Ee=(0,o.Z)("meso-events");function Fe(){ce.clearCache(),window.dispatchEvent(new CustomEvent("mesoClear"))}function be(e){if(e.hasOwnProperty("canTrack")&&(h.setPrivacy("canTrack",e.canTrack),window&&window.meso&&window.meso.privacy&&(window.meso.privacy.canTrack=e.canTrack),Ee.info("Initialized target received",{methodName:"fetchAdsAndRender"})),e.hasOwnProperty("canSell")&&h.setPrivacy("canSell",e.canSell),e.pageId&&e.siteId&&e.locale){const t={siteId:e.siteId,pageName:e.pageId,locale:e.locale,variant:e.variant||"default",brand:e.brand||"default"};o.Y.setSessionConfig({siteId:e.siteId,pageId:e.pageId,variant:t.variant,locale:e.locale,brand:t.brand});const n=window&&window.meso&&(void 0===window.meso.adblock||!1!==window.meso.adblock.enabled);Ee.info("AdsBlock Status",{isAdsBlocked:n}),window.meso.adcontext=window.meso.adcontext||[],window.meso.adcontext.push(t),ye.update(e),ce.fetchAds(e)}}function _e(e){if(null!==e&&"object"==typeof e)switch(e.isInDemo&&(e={type:"target",siteId:"Meso_Docsite",pageId:"page.Meso.ADS.Test",locale:"en_US",variant:"demo",canTrack:!0}),e.siteId&&(e.siteId=`${e.siteId}`),e.type){case"target":Fe(),he(null),be(e),le(e);break;case"render":ce.renderAds();break;case"clear":Fe();break;case"logger":he(e.logger||null);break;default:o.Y.setSessionConfig({siteId:e.siteId,pageId:e.pageId,locale:e.locale}),Ee.warn(s.M.INITIALIZE_EVENT_INVALID,{description:e.type?`${e.type} is invalid initialize type`:"'type' key is absent from the targeting payload.",methodName:"initialize"}),he(null),be(e),le(e)}}const Ie=function(){if(window.meso=window.meso||{},window.meso.initialize=window.meso.initialize||[],!window.meso.initialize.isEventQueue){const e=["clear","logger","target","render"];if(window.meso.initialize.forEach((e=>{null!==e&&"object"==typeof e&&(e.type=e.type||"target")})),window.initialize&&window.initialize.length){const{siteId:e,pageId:t,locale:n,variant:r}=window.meso.initialize.find((e=>"target"===e.type));window.meso.pageInfo={siteId:e,pageId:t,locale:n,variant:r}}window.meso.initialize=(0,c.createPrioritizedEventQueue)(_e,window.meso.initialize,e,{limit:1,observable:ye})}},Oe=["mesoRender"],Ae=new ve({}),Te=e=>{Ae.update(e)},Ne=()=>Object.assign({},Ae.value),ke=(0,o.Z)("Beacons"),De=Object.freeze({URL:"URL",URLMAX:"URLMAX",UNKNOWN:"UNKNOWN"}),xe=e=>{if("beacon"===e.type){const{url:t,data:n}=e;((e,t)=>{switch(((e,t)=>void 0===t?2048>e.length?De.URL:De.URLMAX:De.UNKNOWN)(e,t)){case De.UNKNOWN:return ke.error(s.M.BEACON_SEND_FAIL,new Error("Unsupported data type being sent to sendBeacon()."),{url:e,data:t}),!0;case De.URLMAX:return ke.error(s.M.BEACON_SEND_FAIL,new Error("Data is bigger than max size allowed for type 'URL' in sendBeacon()."),{url:e,data:t}),!0;default:if(navigator.sendBeacon(e,t))return!0}((e,t)=>{i.Z.promiseFetch(e,{method:"POST",headers:{Accept:"application/x-www-form-urlencoded","Content-Type":"application/x-www-form-urlencoded"},body:JSON.stringify(t)}).then((e=>!(e&&e.errors&&e.errors.length>0))).catch((()=>!1))})(e,t)})(t,n)}};function Pe(){window.WebComponents={root:r.Z.webComponentAssetsBaseUrl},function(){let e,t=!1,n=[],r=!1;function o(){window.WebComponents.ready=!0,document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))}function u(){i.Z.getCustomElements()&&customElements.polyfillWrapFlushCallback&&customElements.polyfillWrapFlushCallback((t=>{e=t,r&&e()}))}function c(){window.HTMLTemplateElement&&HTMLTemplateElement.bootstrap&&HTMLTemplateElement.bootstrap(window.document),t=!0,d().then(o)}function d(){r=!1;const t=n.map((e=>e instanceof Function?e():e));return n=[],Promise.all(t).then((()=>{r=!0,e&&e()})).catch((e=>{a.error(s.M.ADS_LOADER_WEBCOMPONENT_FLUSH_NOT_EXECUTED,e)}))}function l(e){document.addEventListener("readystatechange",(function t(){document.removeEventListener("readystatechange",t),e()}))}window.WebComponents=window.WebComponents||{},window.WebComponents.ready=window.WebComponents.ready||!1,window.WebComponents.waitFor=window.WebComponents.waitFor||function(e){e&&(n.push(e),t&&d())},window.WebComponents._batchCustomElements=u;let p=[];(!("attachShadow"in Element.prototype)||!("getRootNode"in Element.prototype)||window.ShadyDOM&&window.ShadyDOM.force)&&p.push("sd"),i.Z.getCustomElements()&&!i.Z.getCustomElements().forcePolyfill||p.push("ce");const m=function(){const e=document.createElement("template");if(!("content"in e))return!0;if(!(e.content.cloneNode()instanceof DocumentFragment))return!0;const t=document.createElement("template");t.content.appendChild(document.createElement("div")),e.content.appendChild(t);const n=e.cloneNode(!0);return 0===n.content.childNodes.length||0===n.content.firstChild.content.childNodes.length}();if(window.Promise&&Array.from&&window.URL&&window.Symbol&&!m||(p=["sd-ce-pf"]),p.length){const e=`bundles/webcomponents-${p.join("-")}.js`,t=window.WebComponents.root+e,n=document.createElement("script");n.src=t,n.addEventListener("error",(e=>{a.error(s.M.ADS_LOADER_WEBCOMPONENT_POLYFILL_NOT_LOADED,{url:t},e)})),n.addEventListener("load",(()=>{u(),c()})),"loading"===i.Z.getReadyState()?l((()=>{document.head.appendChild(n)})):document.head.appendChild(n)}else"loading"===i.Z.getReadyState()?l(c):(t=!0,o())}(),window.meso=window.meso||{},window.meso.adcontext=window.meso.adcontext||[],window.meso.adcontext.isEventQueue||(window.meso.adcontext=(0,c.createEventQueue)(Te,window.meso.adcontext,{observable:Ae}),window.meso.adcontext.getAdContext=Ne),i.Z.getWindow()&&(window.meso=window.meso||{},window.meso.beacons=window.meso.beacons||[],window.meso.beacons.isEventQueue||(0,c.createEventQueue)(xe,window.meso.beacons,{},"beacons")),i.Z.getWindow()&&(window.meso=window.meso||{},window.meso.privacy=window.meso.privacy||{},window.meso.privacy.getAll=h.getPrivacy,window.meso.privacy.get=h.getPrivacyByKey),Ie(),i.Z.getWindow()&&Oe.forEach((e=>{new CustomEvent(e)}))}n(337);const Re=(0,o.Z)("logger"),Ce=()=>{i.Z.checkEmail(i.Z.getLocationHref())?Re.error(s.M.EMAIL_FOUND_IN_URL,new Error("Email included in URL"),{methodName:"checkEmail"}):i.Z.isSafeframe()?Pe():i.Z.promisePollPPID(r.Z.ppid.poll).then((()=>{Re.info("PPID was successfully found in the domain cookie."),Pe()})).catch((e=>{Re.warn(s.M.PPID_NOT_FOUND,{description:`${e}`,methodName:"init"}),Pe()}))};Ce()},624:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(758);const o=new RegExp(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i),i=e=>e<10?`0${e}`:e,s=()=>{const e=new Date;return`${e.getUTCFullYear()}-${i(e.getUTCMonth()+1)}-${i(e.getUTCDate())}T${i(e.getUTCHours())}:${i(e.getUTCMinutes())}:${i(e.getUTCSeconds())}`},a=e=>{const t=document.cookie.match(`(^|;) ?${e}=([^;]*)(;|$)`);return t?decodeURIComponent(t[2]):null},u=()=>window&&window.location&&window.location.href||"",c=(()=>{if("undefined"==typeof window)return;const e=[{name:"Samsung Browser",value:/SamsungBrowser/i,version:/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i},{name:"UCBrowser",value:/UCBrowser/i,version:/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i},{name:"Edge",value:/Edg[e]{0,1}/i,version:/Edg[e]{0,1}/i},{name:"Opera",value:/opr\//i,version:/(?:opr|opios)[\s/](\S+)/i},{name:"Chrome",value:/chrome|chromium|crios/i,version:/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i},{name:"Firefox",value:/firefox|fxios/i,version:/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i},{name:"Safari",value:/safari/i,version:/version\/(\d+(\.?_?\d+)+)/i},{name:"IE",value:/msie|trident/i,version:/(?:msie |rv:)(\d+(\.?_?\d+)+)/i}],t={userAgent:window.navigator&&window.navigator.userAgent||"",userAgentName:"unknown",userAgentVersion:"0",userAgentDeviceType:"unknown"};for(let r=0;r<e.length;r+=1)if(new RegExp(e[r].value,"i").test(t.userAgent)){const o=t.userAgent.match(new RegExp(e[r].version,"i"));if(o&&o.length>0)return t.userAgentVersion=o[1],t.userAgentName=e[r].name,t.userAgentDeviceType=(n=t.userAgent,/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(n)?"tablet":/Mobile|Android|iP(hone|od)|IEMobile|BlackBerry|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(n)?"mobile":"desktop"),t}var n;return t})(),d=()=>{const e=a("eg_ppid"),t=null===e?"":e.trim();return!!t.match(o)&&t},l={checkEmail:e=>e.match(/(?!\.)([a-zA-Z0-9\u0080-\u00FF\u0100-\u017F\u0180-\u024F\u0250-\u02AF\u0300-\u036F\u0370-\u03FF\u0400-\u04FF\u0500-\u052F\u0530-\u058F\u0590-\u05FF\u0600-\u06FF\u0700-\u074F\u0750-\u077F\u0780-\u07BF\u07C0-\u07FF\u0900-\u097F\u0980-\u09FF\u0A00-\u0A7F\u0A80-\u0AFF\u0B00-\u0B7F\u0B80-\u0BFF\u0C00-\u0C7F\u0C80-\u0CFF\u0D00-\u0D7F\u0D80-\u0DFF\u0E00-\u0E7F\u0E80-\u0EFF\u0F00-\u0FFF\u1000-\u109F\u10A0-\u10FF\u1100-\u11FF\u1200-\u137F\u1380-\u139F\u13A0-\u13FF\u1400-\u167F\u1680-\u169F\u16A0-\u16FF\u1700-\u171F\u1720-\u173F\u1740-\u175F\u1760-\u177F\u1780-\u17FF\u1800-\u18AF\u1900-\u194F\u1950-\u197F\u1980-\u19DF\u19E0-\u19FF\u1A00-\u1A1F\u1B00-\u1B7F\u1D00-\u1D7F\u1D80-\u1DBF\u1DC0-\u1DFF\u1E00-\u1EFF\u1F00-\u1FFF\u20D0-\u20FF\u2100-\u214F\u2C00-\u2C5F\u2C60-\u2C7F\u2C80-\u2CFF\u2D00-\u2D2F\u2D30-\u2D7F\u2D80-\u2DDF\u2F00-\u2FDF\u2FF0-\u2FFF\u3040-\u309F\u30A0-\u30FF\u3100-\u312F\u3130-\u318F\u3190-\u319F\u31C0-\u31EF\u31F0-\u31FF\u3200-\u32FF\u3300-\u33FF\u3400-\u4DBF\u4DC0-\u4DFF\u4E00-\u9FFF\uA000-\uA48F\uA490-\uA4CF\uA700-\uA71F\uA800-\uA82F\uA840-\uA87F\uAC00-\uD7AF\uF900-\uFAFF.!#$%&'*+-/=?^_`{|}~\-\d]+)(?:@|%(?:25)*40)(?!\.)([a-zA-Z0-9\u0080-\u00FF\u0100-\u017F\u0180-\u024F\u0250-\u02AF\u0300-\u036F\u0370-\u03FF\u0400-\u04FF\u0500-\u052F\u0530-\u058F\u0590-\u05FF\u0600-\u06FF\u0700-\u074F\u0750-\u077F\u0780-\u07BF\u07C0-\u07FF\u0900-\u097F\u0980-\u09FF\u0A00-\u0A7F\u0A80-\u0AFF\u0B00-\u0B7F\u0B80-\u0BFF\u0C00-\u0C7F\u0C80-\u0CFF\u0D00-\u0D7F\u0D80-\u0DFF\u0E00-\u0E7F\u0E80-\u0EFF\u0F00-\u0FFF\u1000-\u109F\u10A0-\u10FF\u1100-\u11FF\u1200-\u137F\u1380-\u139F\u13A0-\u13FF\u1400-\u167F\u1680-\u169F\u16A0-\u16FF\u1700-\u171F\u1720-\u173F\u1740-\u175F\u1760-\u177F\u1780-\u17FF\u1800-\u18AF\u1900-\u194F\u1950-\u197F\u1980-\u19DF\u19E0-\u19FF\u1A00-\u1A1F\u1B00-\u1B7F\u1D00-\u1D7F\u1D80-\u1DBF\u1DC0-\u1DFF\u1E00-\u1EFF\u1F00-\u1FFF\u20D0-\u20FF\u2100-\u214F\u2C00-\u2C5F\u2C60-\u2C7F\u2C80-\u2CFF\u2D00-\u2D2F\u2D30-\u2D7F\u2D80-\u2DDF\u2F00-\u2FDF\u2FF0-\u2FFF\u3040-\u309F\u30A0-\u30FF\u3100-\u312F\u3130-\u318F\u3190-\u319F\u31C0-\u31EF\u31F0-\u31FF\u3200-\u32FF\u3300-\u33FF\u3400-\u4DBF\u4DC0-\u4DFF\u4E00-\u9FFF\uA000-\uA48F\uA490-\uA4CF\uA700-\uA71F\uA800-\uA82F\uA840-\uA87F\uAC00-\uD7AF\uF900-\uFAFF\-.\d]+)((\.([a-zA-Z\u0080-\u00FF\u0100-\u017F\u0180-\u024F\u0250-\u02AF\u0300-\u036F\u0370-\u03FF\u0400-\u04FF\u0500-\u052F\u0530-\u058F\u0590-\u05FF\u0600-\u06FF\u0700-\u074F\u0750-\u077F\u0780-\u07BF\u07C0-\u07FF\u0900-\u097F\u0980-\u09FF\u0A00-\u0A7F\u0A80-\u0AFF\u0B00-\u0B7F\u0B80-\u0BFF\u0C00-\u0C7F\u0C80-\u0CFF\u0D00-\u0D7F\u0D80-\u0DFF\u0E00-\u0E7F\u0E80-\u0EFF\u0F00-\u0FFF\u1000-\u109F\u10A0-\u10FF\u1100-\u11FF\u1200-\u137F\u1380-\u139F\u13A0-\u13FF\u1400-\u167F\u1680-\u169F\u16A0-\u16FF\u1700-\u171F\u1720-\u173F\u1740-\u175F\u1760-\u177F\u1780-\u17FF\u1800-\u18AF\u1900-\u194F\u1950-\u197F\u1980-\u19DF\u19E0-\u19FF\u1A00-\u1A1F\u1B00-\u1B7F\u1D00-\u1D7F\u1D80-\u1DBF\u1DC0-\u1DFF\u1E00-\u1EFF\u1F00-\u1FFF\u20D0-\u20FF\u2100-\u214F\u2C00-\u2C5F\u2C60-\u2C7F\u2C80-\u2CFF\u2D00-\u2D2F\u2D30-\u2D7F\u2D80-\u2DDF\u2F00-\u2FDF\u2FF0-\u2FFF\u3040-\u309F\u30A0-\u30FF\u3100-\u312F\u3130-\u318F\u3190-\u319F\u31C0-\u31EF\u31F0-\u31FF\u3200-\u32FF\u3300-\u33FF\u3400-\u4DBF\u4DC0-\u4DFF\u4E00-\u9FFF\uA000-\uA48F\uA490-\uA4CF\uA700-\uA71F\uA800-\uA82F\uA840-\uA87F\uAC00-\uD7AF\uF900-\uFAFF]){2,63})+)/i),promiseScript:(e,t={})=>new Promise((n=>{const r=document.body.getElementsByTagName("script");for(let t=0;t<r.length;t++)if((r[t].getAttribute("src")||r[t].src)===e)return void n(r[t]);const o=["defer","async"],i=document.createElement("script");i.onload=()=>{n(i)},i.onerror=e=>{const t={error:e,methodName:"promiseScript"};i.errInfo=t,n(i)},Object.keys(t).forEach((e=>{-1!==o.indexOf(e)&&(i[e]=t[e])})),i.src=e,document.body.appendChild(i)})),promiseFetch:(e,t={})=>{const n=t&&t.timeout||r.Z.fetchTimeout;return Promise.race([fetch(e,t),new Promise(((e,t)=>setTimeout((()=>t(new Error("Timeout"))),n)))])},promisePollPPID:(e={})=>{const t=e.timeout||2e3,n=e.interval||500;let r;return Promise.race([new Promise(((e,t)=>{r=setInterval((()=>{try{const t=d();t&&(clearInterval(r),e(t))}catch(e){clearInterval(r),t(e)}}),n,e)})),new Promise(((e,n)=>setTimeout((()=>{clearInterval(r),n(new Error("Timeout while attempting to retrieve PPID from domain cookie."))}),t)))])},currentScript:()=>{if(document){if(document.currentScript)return document.currentScript;const e=/meso-loader\.js$/,t=[...document.getElementsByTagName("script")];for(const n of t)if(null!==n.src.match(e))return n}},esDateString:s,getCookie:a,setCookie:(e,t,n=30)=>{const r=new Date;r.setTime(r.getTime()+864e5*n);const o=encodeURIComponent(t);document.cookie=`${e}=${o};path=/;expires=${r.toGMTString()};`},isObject:e=>Boolean(e)&&e.constructor===Object,queryString:e=>{let t=Object.keys(e).map((t=>`${t}=${e[t]}`)).join("&");return t&&(t=`?${t}`),t},getCurrentBreakpoint:()=>window&&window.meso&&window.meso.breakpoints&&window.meso.breakpoints.current||null,getTestBucket:e=>{const t=window&&window.meso&&window.meso.experiments&&window.meso.experiments.executedEvents&&window.meso.experiments.executedEvents.find((({experiments:t})=>t.hasOwnProperty(e)));return t?t.experiments[e]:null},userAgent:c,parseLogs:e=>{const t={logs:{type:"error",message:"INVALID_JSON_LOG",logValue:""},timestamp:s(),epoch:Date.now()};return"string"==typeof e?(t.logs.logValue=e,[t]):e&&e.length?e.map((e=>"string"==typeof e?(t.logs.logValue=e,t):e)):e},getLocationSearch:()=>window&&window.location&&window.location.search||"",getWindow:()=>window,getLocationHref:u,getReadyState:()=>document&&document.readyState,getCustomElements:()=>window&&window.customElements,getNavigator:()=>window&&window.navigator,padUtcUnits:i,readDUAIDCookie:()=>{const e=a("DUAID"),t=null===e?"":e.trim();return!!t.match(o)&&t},readPPIDCookie:d,isSafeframe:()=>{const e=u();return e&&e.includes("safeframe")}}},386:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(758),o=n(624);const i=r.Z.logging.collector,s=r.Z.logging.performance.endpoint,a=e=>({method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}),u=e=>new Promise(((t,n)=>{if(e&&e.length>0){const r=o.Z.parseLogs(e),u=o.Z.getNavigator();void 0===u||void 0===u.sendBeacon?t(Promise.all(o.Z.promiseFetch(i,a(r)),o.Z.promiseFetch(s,a(r)).then((e=>{e&&e.errors&&e.errors.length>0&&n(new Error("The Web Collector responded with errors"))})).catch((e=>n(e))))):u.sendBeacon(s,JSON.stringify(r))&&u.sendBeacon(i,JSON.stringify(r))?t(!0):n(!1)}else t(!0)}))},523:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i}),n(386);var r=n(750);window.meso=window.meso||{},window.meso.logging=window.meso.logging||[];const o=(0,r.Z)(window.meso);o.initLogger();const i=o.collectorEventQueueCallback},750:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(758),o=n(386),i=n(624);const s=(e=window.meso)=>{let t,n,s=0;function a(e){const t=e.filter(Boolean).filter((e=>0!==Object.keys(e).length)).filter((e=>e.logs));return t.filter((e=>!e.timestamp)).forEach((e=>{e.timestamp=i.Z.esDateString()})),t.filter((e=>!e.epoch)).forEach((e=>{e.epoch=Date.now()})),t.filter((e=>!e.platform)).forEach((e=>{e.platform=r.Z.logging.platform})),t}function u(){const t=function(){if(!(e&&e.logging&&e.logging.isEventQueue))return console.warn("window.meso.logging is not an event queue"),[];const t=e.logging.executedEvents;if(0===t.length||s>=t.length)return[];const n=i.Z.parseLogs(t.slice(s,t.length));return s=t.length,a(n)}();if(!(t.length>0))return console.error("Error in sending data to Web Collector - no items to send"),new Error("Error in sending data to Web Collector - no items to send");c(),(0,o.Z)(t).catch((()=>{(0,o.Z)(t).catch((e=>(console.error("Error in sending data to Web Collector",e),new Error(`Error calling Web Collector endpoint ${JSON.stringify(e)}`))))}))}function c(){t||(t=setTimeout((()=>{t=null,u()}),r.Z.logging.autoCallout))}return{initLogger:function(){if("undefined"!=typeof window&&document&&"function"==typeof document.addEventListener){document.addEventListener("visibilitychange",(()=>{"hidden"===document.visibilityState&&u()}),{capture:!0});const e="onpagehide"in window?"pagehide":"unload";window.addEventListener(e,(()=>{n=!0,u()}),{capture:!0}),window.addEventListener("load",(()=>{c()}),{capture:!0})}},cleanLoggingPayload:a,collectorEventQueueCallback:function(...i){e.logging&&e.logging.isEventQueue?n?function(e){const t=a(e);if(!(t.length>0))return console.error("Error in sending data to the collector endpoints - no items to send"),new Error("Error in sending data to the collector endpoints - no items to send");(0,o.Z)(t).catch((e=>new Error(`Error calling collector endpoints: ${JSON.stringify(e)}`)))}(i):e.logging.executedEvents.length-s>r.Z.logging.maxLogsInQueue&&(clearTimeout(t),t=null,u()):console.warn("window.meso.logging is not an event queue")}}}},668:(e,t,n)=>{"use strict";n.d(t,{Y:()=>s,Z:()=>u}),n(523);var r=n(758),o=n(624),i=n(307);class s{constructor(e){this.moduleName=e,this.isDebugLoggingEnabled=window.location&&window.location.search&&window.location.search.includes("debug=true")}static setSessionConfig(e){s.config=Object.assign({},s.config,e)}sendLogPayload(e,t,n){window.meso=window.meso||{},window.meso.logging=window.meso.logging||[],s.setSessionConfig(window.meso.pageInfo);const a=Object.assign({type:e,moduleName:this.moduleName},t&&t.message?t:{message:t},s.config,{details:n},o.Z.userAgent);i.Z.sanitize(a),window.meso.logging.push({logs:a,platform:r.Z.logging.platform,timestamp:o.Z.esDateString(),epoch:Date.now()})}info(e,t){this.sendLogPayload("info",e,t)}warn(e,t){this.sendLogPayload("warn",e,t)}error(e,t,n){const r=t instanceof Error||"object"==typeof t?{message:t.message}:{message:`${t}`};this.sendLogPayload("error",e,Object.assign({exception:r},n))}debug(e,t){this.isDebugLoggingEnabled&&console.info(`${performance.now()} ${this.moduleName}:${e}`,t||{})}trackEvent(e,t,n){this.sendLogPayload("track-event",{name:e,vars:t,events:n})}trackAction(e,t,n){this.sendLogPayload("track-action",{name:e,vars:t,events:n})}perf(e,t){if(t&&t.mark&&performance.getEntriesByName(t.mark).length>0){const{mark:e}=t;performance.measure("Performance Measure",e),t.duration=performance.getEntriesByType("measure")[0].duration,performance.clearMeasures(),delete t.mark}this.sendLogPayload("perf",e,t)}}const a={},u=e=>(a[e]||(a[e]=new s(e)),a[e])},258:(e,t,n)=>{"use strict";n.d(t,{M:()=>r});const r={CONFIG_API_FETCH_ERROR:{message:"CONFIG_API_FETCH_ERROR",priority:"P0"},BREAKPOINTS_ERROR:{message:"BREAKPOINTS_ERROR",priority:"P3"},CMP_LOADER_FETCH_ERROR:{message:"CMP_LOADER_FETCH_ERROR",priority:"P1"},EXPERIMENTS_INVALID:{message:"EXPERIMENTS_INVALID",priority:"P3"},EXPERIMENTS_UPDATE_FAILED:{message:"EXPERIMENTS_UPDATE_FAILED",priority:"P2"},EMAIL_FOUND_IN_URL:{message:"EMAIL_FOUND_IN_URL",priority:"P1"},TARGETING_FETCH_ERROR:{message:"TARGETING_FETCH_ERROR",priority:"P1"},TARGETING_UPDATE_ERROR:{message:"TARGETING_UPDATE_ERROR",priority:"P1"},TARGETING_INVALID:{message:"TARGETING_INVALID",priority:"P1"},TARGETING_VALUE_EMPTY:{message:"TARGETING_VALUE_EMPTY",priority:"P3"},TARGETING_KEY_MISSING:{message:"TARGETING_KEY_MISSING",priority:"P3"},TARGETING_KEY_DEPRECATED:{message:"TARGETING_KEY_DEPRECATED",priority:"P3"},TARGETING_EVENT_INVALID:{message:"TARGETING_EVENT_INVALID",priority:"P3"},RESOURCE_LOAD_FAIL:{message:"RESOURCE_LOAD_FAIL",priority:"P3"},INITIALIZE_EVENT_INVALID:{message:"INITIALIZE_EVENT_INVALID",priority:"P3"},BEACON_SEND_FAIL:{message:"BEACON_SEND_FAIL",priority:"P3"},PPID_NOT_FOUND:{message:"PPID_NOT_FOUND",priority:"P3"},DUAID_NOT_FOUND:{message:"DUAID_NOT_FOUND",priority:"P3"},NON_GAIA_LOCRESOLVER:{message:"NON_GAIA_LOCRESOLVER",priority:"P3"}}},307:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});const r=n(146);let o=[];const i=(e,t,n,r)=>{const i=`Field "${e}" should be ${t} type but getting ${n} type. Field content to string: "${r}". Please refer "egsp-meso-frontend" repository for more information.`;o.push(i)},s=(e,t)=>{const n=e.siteId;"string"!=typeof n&&(i(`${t}.siteId`,"string",typeof n,`${n}`),e.siteId=`${n}`)},a={sanitize:e=>{e&&e.siteId&&s(e,"logs"),e&&e.details&&e.details.isAdsBlocked&&((e,t)=>{const n=e.isAdsBlocked;if("boolean"!=typeof n){let t=`${n}`;r(n)&&(t=JSON.stringify(n)),i("logs.details.isAdsBlocked","boolean",typeof n,t),delete e.isAdsBlocked}})(e.details),e&&e.details&&e.details.params&&((e,t)=>{const n=e.params,o="logs.details.params";r(n)?n.siteId&&s(n,o):(i(o,"plain object",typeof n,`${n}`),e.params={})})(e.details),o.length&&(e.schemaOffendingWarnings=o,o=[])}}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(624),t=n(758),r=n(668),o=n(258);const i=(0,r.Z)("ppid-loader"),s=(e,t,n)=>{if(window.dispatchEvent){const r={detail:{type:"ppid",ppid:e,sourced:t,message:n}};window.dispatchEvent(new CustomEvent("mesoPPID",r))}};var a=n(866);const u=(0,r.Z)("bernie-loader");(async()=>{const n=e.Z.readPPIDCookie(),r=e.Z.readDUAIDCookie(),a=window.location.hostname;if(!1!==n)return s(n,!0,"PPID located in cookie"),n;if(!1===r){const e=`DUAID cannot be found in cookie or is invalid. DUAID=${r}`;return i.error(o.M.DUAID_NOT_FOUND,new Error(e)),s("",!1,"DUAID not found in cookie"),""}const u=t.Z.travelPixel.endpointDomainOverride?t.Z.travelPixel.endpointDomainOverride:a,c=[t.Z.travelPixel.endpointProtocol,u,t.Z.travelPixel.endpointPath,`?duaid=${r}`].join("");return await e.Z.promiseFetch(c,{method:"POST",headers:{"Content-Type":"application/json","app-name":"ppid-loader-script"}}).then((e=>{if(e&&e.errors&&e.errors.length>0)throw new Error(e.errors);return e.json()})).then((t=>{const n=t?.ppid;if(n&&n.match(e.Z.uuidPattern))return s(n,!0,"PPID retrieve from Travel Pixel Web Service"),n;const a=`Could not find PPID in response for DUAID=${r}, message=${t.message}.`;return i.error(o.M.PPID_NOT_FOUND,new Error(a)),s("",!1,"Unexpected response format when retrieving PPID from Travel Pixel Web Service"),""})).catch((e=>{const t=`API Error looking up PPID for DUAID=${r}, error=${e.message}.`;return i.error(o.M.PPID_NOT_FOUND,new Error(t)),s("",!1,"Experienced API error when retrieving PPID from Travel Pixel Web Service"),""}))})().then((()=>{(0,a.S)()})).catch((e=>{u.error(o.M.PPID_NOT_FOUND,new Error(`PPID process failed: ${JSON.stringify(e)}`)),(0,a.S)()}))})()})();
//# sourceMappingURL=bernie-loader.js.map